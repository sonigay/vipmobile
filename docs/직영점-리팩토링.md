## ì§ì˜ì  ë¦¬íŒ©í† ë§

> ì§ì˜ì  ëª¨ë“œ(`DirectStoreMode`) & ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ(`DirectStoreManagementMode`) ì „ì²´ êµ¬ì¡°ì™€  
> ë°ì´í„° ë¦¬íŒ©í† ë§(ë§ˆìŠ¤í„° ì‹œíŠ¸/ETL/API/í”„ë¡ íŠ¸)ì„ í•œ ê³³ì— ì •ë¦¬í•œ ë¬¸ì„œì…ë‹ˆë‹¤.

ì´ ë¬¸ì„œëŠ” ì§ì˜ì  ëª¨ë“œì™€ ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œê°€ **ì–´ë–¤ ë¡œì§ê³¼ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆëŠ”ì§€**ë¥¼ ì½”ë“œ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.

---

## 1. ê³µí†µ ê°œë…/êµ¬ì¡°

- **ëª¨ë“œ ë©”íƒ€ ì •ë³´ ê´€ë¦¬ (`modeConfig.js`)**
  - `MODE_CONFIG.directStore`  
    - **key**: `directStore`  
    - **title**: `ì§ì˜ì  ëª¨ë“œ`  
    - **category**: `general` (ì¼ë°˜ ëª¨ë“œ)  
    - **ê¶Œí•œ ì‹œíŠ¸ ì°¸ì¡°**: `ì¼ë°˜ëª¨ë“œê¶Œí•œê´€ë¦¬!Gì—´`, ì—…ë°ì´íŠ¸ ì‹œíŠ¸: `ì–´í”Œì—…ë°ì´íŠ¸!Xì—´`
  - `MODE_CONFIG.directStoreManagement`  
    - **key**: `directStoreManagement`  
    - **title**: `ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ`  
    - **category**: `admin` (ê´€ë¦¬ì ëª¨ë“œ)  
    - **ê¶Œí•œ ì‹œíŠ¸ ì°¸ì¡°**: `ëŒ€ë¦¬ì ì•„ì´ë””ê´€ë¦¬!AEì—´`, ì—…ë°ì´íŠ¸ ì‹œíŠ¸: `ì–´í”Œì—…ë°ì´íŠ¸!Wì—´`
  - ê³µí†µ ìœ í‹¸:
    - `getModeColor(mode)`: ëª¨ë“œë³„ ëŒ€í‘œ ìƒ‰ìƒ
    - `getModeTitle(mode)`: ëª¨ë“œë³„ ì œëª©
    - `getModeIcon(mode)`: ëª¨ë“œë³„ ì•„ì´ì½˜

- **í…Œë§ˆ/ìŠ¤íƒ€ì¼**
  - ë‘ ëª¨ë“œ ëª¨ë‘ `directStoreThemeV2`ë¥¼ ì‚¬ìš©í•´ **ë™ì¼í•œ V2 í…Œë§ˆ**ë¥¼ ì ìš©.
  - MUI `ThemeProvider` + `CssBaseline`ë¥¼ í†µí•´ ì „ì²´ í™”ë©´ ìŠ¤íƒ€ì¼ ì¼ê´„ ì ìš©.

- **ì—…ë°ì´íŠ¸ íŒì—… (`AppUpdatePopup`)**
  - ë‘ ëª¨ë“œ ëª¨ë‘ ìƒë‹¨ ë²„íŠ¼ì„ í†µí•´ ì—…ë°ì´íŠ¸ íŒì—…ì„ ì—´ ìˆ˜ ìˆìŒ.
  - íŒì—…ì—ëŠ” `mode` ê°’ì„ ë‹¤ë¥´ê²Œ ë„£ì–´ ëª¨ë“œë³„ ì—…ë°ì´íŠ¸ ì •ë³´ë¥¼ ë¶„ë¦¬:
    - ì§ì˜ì  ëª¨ë“œ: `mode="directStore"`
    - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ: `mode="directStoreManagement"`

- **ê³µí†µ íƒ­/í˜ì´ì§€**
  - `OpeningInfoPage`: ê°œí†µì •ë³´ ìƒì„¸/ì…ë ¥ í™”ë©´
  - `DirectSalesReportTab`: íŒë§¤ì¼ë³´ í™”ë©´
    - ì§ì˜ì  ëª¨ë“œ: ì í¬ ë‹¨ìœ„ íŒë§¤ì¼ë³´ (`isManagementMode={false}`)
    - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ: ì „ì²´/ê´€ë¦¬ì ê´€ì  íŒë§¤ì¼ë³´ (`isManagementMode={true}`)

---

## 2. ì§ì˜ì  ëª¨ë“œ (`DirectStoreMode`)

### 2-1. ì§„ì…/ì¸ì¦ íë¦„

- **props**
  - `loggedInStore`: ë¡œê·¸ì¸í•œ ë§¤ì¥ ì •ë³´ (ê¶Œí•œ/ë³´ì•ˆ ì„¤ì • í¬í•¨)
  - `onLogout`: ë¡œê·¸ì•„ì›ƒ í•¸ë“¤ëŸ¬
  - `onModeChange`, `availableModes`: ìƒë‹¨ì—ì„œ ë‹¤ë¥¸ ëª¨ë“œë¡œ ì „í™˜í•  ë•Œ ì‚¬ìš©

- **ë³´ì•ˆ ì„¤ì •**
  - `requiresPassword`  
    - `loggedInStore.directStoreSecurity.requiresPassword` ë¡œë¶€í„° ì½ìŒ.
    - `true` ì¸ ê²½ìš°, ì§ì˜ì  ëª¨ë“œ ì ‘ê·¼ ì „ì— **ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ UI** í‘œì‹œ.
  - `alreadyAuthenticated`  
    - `loggedInStore.directStoreSecurity.authenticated` ê°’ì„ ì´ìš©.
    - ì´ë¯¸ ì„œë²„/ë‹¤ë¥¸ ê²½ë¡œì—ì„œ ì¸ì¦ëœ ê²½ìš°, ë°”ë¡œ `isAuthenticated=true` ë¡œ ì„¸íŒ….

- **ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìƒíƒœ**
  - `isAuthenticated`: ì§ì˜ì  ëª¨ë“œ ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ ì—¬ë¶€
  - `password`, `showPasswordDialog`, `error`, `loading`: ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ë‹¤ì´ì–¼ë¡œê·¸ ê´€ë ¨ ìƒíƒœ
  - `activeTab`: ìƒë‹¨ íƒ­ ì¸ë±ìŠ¤
    - `0`: íœ´ëŒ€í° ëª©ë¡ (`MobileListTab`)
    - `1`: ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° (`TodaysMobileTab`)
    - `2`: íŒë§¤ì¼ë³´ (`DirectSalesReportTab`)
  - `isFullScreen`: **ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° íƒ­ ì „ìš© ì „ì²´í™”ë©´ ëª¨ë“œ** í”Œë˜ê·¸
  - `selectedProduct`: ê°œí†µì •ë³´ ì…ë ¥ í˜ì´ì§€ì— ë„˜ê¸¸ **ì„ íƒëœ ìƒí’ˆ/íŒë§¤ ì •ë³´**

- **ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ ë¡œì§ (`handlePasswordSubmit`)**
  - API ì—”ë“œí¬ì¸íŠ¸: `POST {API_URL}/api/verify-direct-store-password`
  - ìš”ì²­ ë°”ë””:
    - `storeId: loggedInStore.id`
    - `password: ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸`
  - ì‘ë‹µ ì²˜ë¦¬:
    - `data.success && data.verified === true` ì¸ ê²½ìš°
      - `isAuthenticated = true`
      - ë¹„ë°€ë²ˆí˜¸ ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê³ , ì…ë ¥ê°’ ì´ˆê¸°í™”
    - ê·¸ ì™¸:
      - `data.error` ë©”ì‹œì§€ ë˜ëŠ” ê¸°ë³¸ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ `error` ìƒíƒœì— ì„¸íŒ…
  - ì˜ˆì™¸ ë°œìƒ ì‹œ:
    - `'ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'` ë©”ì‹œì§€ ì¶œë ¥

- **ì¸ì¦ ì „/í›„ UI ë¶„ê¸°**
  - `requiresPassword && !isAuthenticated` ì´ë©´ â†’ **ì¸ì¦ í™”ë©´ ë Œë”ë§**:
    - ìƒë‹¨ `AppBar`
      - ì œëª©: `getModeTitle('directStore', 'ì§ì˜ì  ëª¨ë“œ')`
      - `ì—…ë°ì´íŠ¸ í™•ì¸` ë²„íŠ¼ â†’ `showUpdatePopup=true`
      - `ëª¨ë“œ ë³€ê²½` ë²„íŠ¼ (ì—¬ëŸ¬ ëª¨ë“œ ê°€ëŠ¥í•œ ê²½ìš°)
      - `ë¡œê·¸ì•„ì›ƒ` ë²„íŠ¼
    - ì¤‘ì•™ ë³¸ë¬¸:
      - `ì§ì˜ì  ëª¨ë“œ ì ‘ê·¼` ì¹´ë“œ
      - `ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥` ë²„íŠ¼ â†’ ë¹„ë°€ë²ˆí˜¸ ë‹¤ì´ì–¼ë¡œê·¸ ì—´ê¸°
    - ë¹„ë°€ë²ˆí˜¸ ë‹¤ì´ì–¼ë¡œê·¸:
      - ë¹„ë°€ë²ˆí˜¸ `TextField`
      - `Enter` í‚¤ ë˜ëŠ” `í™•ì¸` ë²„íŠ¼ìœ¼ë¡œ `handlePasswordSubmit` ì‹¤í–‰
  - ì´ ì™¸ (ë¹„ë°€ë²ˆí˜¸ê°€ í•„ìš” ì—†ê±°ë‚˜ ì´ë¯¸ ì¸ì¦ëœ ìƒíƒœ) â†’ **ë©”ì¸ ì§ì˜ì  í™”ë©´ ë Œë”ë§**

### 2-2. ë©”ì¸ ë ˆì´ì•„ì›ƒ/íƒ­ êµ¬ì¡°

- **í…Œë§ˆ**
  - `theme = directStoreThemeV2`

- **ìƒë‹¨ í—¤ë”/íƒ­ (`AppBar` + `Tabs`)**
  - `isFullScreen === false` ì¼ ë•Œë§Œ `AppBar` í‘œì‹œ (ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° ì „ì²´í™”ë©´ì—ì„œëŠ” ìˆ¨ê¹€)
  - `Toolbar`:
    - ì¢Œì¸¡: ëª¨ë“œ ì œëª© (`{modeTitle}`)
    - ìš°ì¸¡:
      - `ì—…ë°ì´íŠ¸ í™•ì¸` ë²„íŠ¼ â†’ ì—…ë°ì´íŠ¸ íŒì—…
      - `ëª¨ë“œ ë³€ê²½` ë²„íŠ¼ â†’ `onModeChange`
      - `ë¡œê·¸ì•„ì›ƒ` ë²„íŠ¼
  - `Tabs` (3ê°œ):
    - index 0: `"íœ´ëŒ€í° ëª©ë¡"`
    - index 1: `"ì˜¤ëŠ˜ì˜ íœ´ëŒ€í°"`
    - index 2: `"íŒë§¤ì¼ë³´"`
  - `handleTabChange`:
    - `activeTab` ë³€ê²½
    - íƒ­ì´ ë°”ë€Œë©´ `isFullScreen` ê°•ì œ `false` (ì „ì²´í™”ë©´ ê°•ì œ í•´ì œ)

- **ë³¸ë¬¸ íƒ­ë³„ êµ¬ì„±**

1. **íœ´ëŒ€í° ëª©ë¡ íƒ­ (index 0)**
   - ì»´í¬ë„ŒíŠ¸: `MobileListTab`
   - ì—ëŸ¬ ê°€ë“œ: `ErrorBoundary name="MobileListTab"`
   - props:
     - `onProductSelect={handleProductSelect}`
   - í´ë¦­ ì‹œ ë™ì‘:
     - `handleProductSelect(product)` â†’ `selectedProduct`ì— ì €ì¥, `isFullScreen=false`
     - ì´í›„ `selectedProduct`ê°€ truthyê°€ ë˜ë©´ì„œ, ê°œí†µì •ë³´ í˜ì´ì§€ë¡œ ì§„ì….

2. **ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° íƒ­ (index 1)**
   - ìƒë‹¨ ìš°ì¸¡ì— **ì „ì²´í™”ë©´ í† ê¸€ ë²„íŠ¼**:
     - `IconButton` + `FullscreenIcon` / `FullscreenExitIcon`
     - `toggleFullScreen` ë¡œì§ìœ¼ë¡œ `isFullScreen` í† ê¸€
   - ì»´í¬ë„ŒíŠ¸: `TodaysMobileTab`
   - props:
     - `isFullScreen`
     - `onProductSelect={handleProductSelect}`
   - ì „ì²´í™”ë©´ í”Œë˜ê·¸ì— ë”°ë¼ `AppBar` í‘œì‹œ ì—¬ë¶€ë§Œ ë‹¬ë¼ì§€ê³ , íƒ­ ë‚´ë¶€ ë ˆì´ì•„ì›ƒì€ `TodaysMobileTab`ì´ ì±…ì„.

3. **íŒë§¤ì¼ë³´ íƒ­ (index 2)**
   - ì»´í¬ë„ŒíŠ¸: `DirectSalesReportTab`
   - ì—ëŸ¬ ê°€ë“œ: `ErrorBoundary name="DirectSalesReportTab"`
   - props:
     - `onRowClick={handleProductSelect}`  
       â†’ íŠ¹ì • íŒë§¤ ê±´ í´ë¦­ ì‹œ `OpeningInfoPage`ë¡œ ì´ë™
     - `loggedInStore={loggedInStore}`
     - `isManagementMode={false}`  
       â†’ ì í¬ ë‹¨ìœ„/í˜„ì¥ìš© íŒë§¤ì¼ë³´ ëª¨ë“œë¡œ ë™ì‘

### 2-3. ê°œí†µì •ë³´ í˜ì´ì§€ ì—°ë™ (`OpeningInfoPage`)

- **ì„ íƒ íë¦„**
  - `MobileListTab` ë˜ëŠ” `TodaysMobileTab` ë˜ëŠ” `DirectSalesReportTab`ì—ì„œ í•­ëª© í´ë¦­
  - ê° íƒ­ì—ì„œ ì „ë‹¬ëœ ìƒí’ˆ/íŒë§¤ ì •ë³´ â†’ `handleProductSelect(product)` í˜¸ì¶œ
  - `selectedProduct` ìƒíƒœì— ê°’ì´ ë“¤ì–´ê°€ë©´, ë©”ì¸ ë Œë”ë§ ë¶„ê¸°ì—ì„œ:
    - ìƒë‹¨/íƒ­ UI ëŒ€ì‹  `OpeningInfoPage` ì „ì²´ í™”ë©´ í‘œì‹œ

- **ë Œë”ë§ ì¡°ê±´**
  - `selectedProduct ? <OpeningInfoPage ... /> : <ì¼ë°˜ íƒ­ êµ¬ì¡°>` í˜•íƒœ

- **props**
  - `initialData={selectedProduct}`
  - `onBack={handleBackToStore}`
  - `loggedInStore={loggedInStore}`

---

## 3. ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ (`DirectStoreManagementMode`)

### 3-1. ì§„ì…/ê¶Œí•œ êµ¬ì¡°

- **props**
  - `loggedInStore`, `onLogout`, `onModeChange`, `availableModes` (ì§ì˜ì  ëª¨ë“œì™€ ë™ì¼í•œ êµ¬ì¡°)

- **ê¶Œí•œ ê°’ íŒŒì‹±**
  - `directStoreManagementPermission = loggedInStore.modePermissions.directStoreManagement`
  - ë¬¸ìì—´ì¸ ê²½ìš°:
    - `permissionValue = directStoreManagementPermission.trim().toUpperCase()`
  - ë¶ˆë¦°/ê¸°íƒ€ì¸ ê²½ìš°:
    - `true` â†’ `'O'` ë¡œ ê°„ì£¼ (ì¡°íšŒ ê¶Œí•œ)
    - ê·¸ ì™¸ â†’ `''`

- **ì—­í• /ê¶Œí•œ êµ¬ë¶„**
  - `permissionValue === 'M'` : **ê´€ë¦¬ì/ë§ˆìŠ¤í„°**
  - `permissionValue === 'S'` : **ì„œë¸Œ ê´€ë¦¬ì(ì„¸íŒ… ì¼ë¶€)**  
  - `permissionValue === 'O'` : **ì¡°íšŒ ì „ìš©**

- **íƒ­ë³„ ê¶Œí•œ ë§¤í•‘**
  - ì •ì±… ì„¤ì • íƒ­(`policy`):
    - `hasPolicyPermission = permissionValue === 'M' || permissionValue === 'S'`
  - ë§í¬ ì„¤ì • íƒ­(`link` / ë©”ì¸í˜ì´ì§€ ë¬¸êµ¬ í¬í•¨):
    - `hasLinkPermission = permissionValue === 'M'`
  - ì „ì²´ íŒë§¤ì¼ë³´ íƒ­(`sales`):
    - `hasSalesReportPermission = M/S/O ëª¨ë‘ í—ˆìš©`

- **ì¸ì¦ í”Œë¡œìš°**
  - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œëŠ” ì–´í”Œ ì „ì²´ ë¡œê·¸ì¸/ê¶Œí•œ ì²´í¬ë¥¼ ì´ë¯¸ ê±°ì¹œ ë’¤ ì§„ì…í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •:
    - `const [isAuthenticated] = useState(true);`
    - ë³„ë„ì˜ ë¹„ë°€ë²ˆí˜¸ íŒì—…/ë‹¤ì´ì–¼ë¡œê·¸ëŠ” ì—†ìŒ.

### 3-2. íƒ­ ì„ ì–¸/êµ¬ì„± (`availableTabs`)

- **lazy loaded íƒ­ ì»´í¬ë„ŒíŠ¸**
  - `PolicySettingsTab` : `./direct/management/PolicySettingsTab`
  - `LinkSettingsTab` : `./direct/management/LinkSettingsTab`
  - `MainPageTextSettingsTab` : `./direct/management/MainPageTextSettingsTab`
  - `DirectSalesReportTab` : `./direct/DirectSalesReportTab` (ê´€ë¦¬ììš©)
  - `OpeningInfoPage` : `./direct/OpeningInfoPage`

- **ê¶Œí•œ ê¸°ë°˜ `availableTabs` ê³„ì‚°**
  - `React.useMemo` ë¡œ íƒ­ ë¦¬ìŠ¤íŠ¸ ìƒì„±:
    - ì •ì±… ì„¤ì • íƒ­ (Policy)
      - ì¡°ê±´: `hasPolicyPermission === true`
      - êµ¬ì¡°:
        - `key: 'policy'`
        - `label: 'ì •ì±… ì„¤ì •'`
        - `icon: <SettingsIcon />`
        - `componentName: 'PolicySettingsTab'`
    - ë§í¬ ì„¤ì • íƒ­ (Link)
      - ì¡°ê±´: `hasLinkPermission === true` (M ê¶Œí•œ ì „ìš©)
      - êµ¬ì¡°:
        - `key: 'link'`
        - `label: 'ë§í¬ ì„¤ì •'`
        - `icon: <LinkIcon />`
        - `componentName: 'LinkSettingsTab'`
    - ë©”ì¸í˜ì´ì§€ ë¬¸êµ¬ ì„¤ì • íƒ­
      - ì¡°ê±´: `hasLinkPermission === true` (ë§í¬ ì„¤ì •ê³¼ ë™ì¼ ì¡°ê±´)
      - êµ¬ì¡°:
        - `key: 'mainPageText'`
        - `label: 'ë©”ì¸í˜ì´ì§€ë¬¸êµ¬ì„¤ì •'`
        - `icon: <TextFieldsIcon />`
        - `componentName: 'MainPageTextSettingsTab'`
    - ì „ì²´ íŒë§¤ì¼ë³´ íƒ­
      - ì¡°ê±´: `hasSalesReportPermission === true` (M/S/O)
      - êµ¬ì¡°:
        - `key: 'sales'`
        - `label: 'ì „ì²´ íŒë§¤ì¼ë³´'`
        - `icon: <AssessmentIcon />`
        - `componentName: 'DirectSalesReportTab'`
        - `props`:
          - `onRowClick: handleReportSelect`
          - `loggedInStore`
          - `isManagementMode: true` (ê´€ë¦¬ì ì „ìš© ëª¨ë“œ í”Œë˜ê·¸)

- **íƒ­ ì¸ë±ìŠ¤ ìœ íš¨ì„± ë³´ì •**
  - `availableTabs.length` ê°€ ë³€ê²½ë  ë•Œ, í˜„ì¬ `activeTab` ê°’ì´ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ 0ë²ˆìœ¼ë¡œ ë¦¬ì…‹:
    - ì˜ˆ: ê¶Œí•œ ë³€ê²½/ë°ì´í„° ë¡œë”© í›„ ì¼ë¶€ íƒ­ì´ ì‚¬ë¼ì§€ëŠ” ê²½ìš° ëŒ€ë¹„.

### 3-3. ë ˆì´ì•„ì›ƒ/ë Œë”ë§ íë¦„

- **ìƒìœ„ ë ˆì´ì•„ì›ƒ**
  - `ThemeProvider` + `directStoreThemeV2`
  - `Box`ë¡œ ì „ì²´ í™”ë©´ êµ¬ì„± (`minHeight: '100vh'`, `flexDirection: 'column'`)

- **ìƒì„¸ë³´ê¸°(ê°œí†µì •ë³´) ë¶„ê¸°**
  - ìƒíƒœ: `selectedReport`
  - `selectedReport`ê°€ ìˆì„ ë•Œ:
    - ìƒë‹¨ ë°”/íƒ­ ì—†ì´, `OpeningInfoPage` ì „ì²´ í™”ë©´ ë Œë”ë§
    - `ErrorBoundary name="OpeningInfoPage (Management)"` ë¡œ ê°ì‹¸ê³ , `Suspense + CircularProgress` ë¡œ ë¡œë”© ì²˜ë¦¬
    - props:
      - `initialData={selectedReport}`
      - `onBack={handleBackToReports}` â†’ `selectedReport = null`

- **ì¼ë°˜ íƒ­ í™”ë©´**
  - ìƒë‹¨ `AppBar`:
    - ì¢Œì¸¡: `SettingsIcon` + `modeTitle` (`ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ`)
    - ìš°ì¸¡:
      - (ì—¬ëŸ¬ ëª¨ë“œ ê°€ëŠ¥ ì‹œ) `ëª¨ë“œ ë³€ê²½` ë²„íŠ¼ â†’ `onModeChange`
      - `ë¡œê·¸ì•„ì›ƒ` ë²„íŠ¼
  - `Tabs`:
    - `availableTabs`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ì ìœ¼ë¡œ ìƒì„±
    - ì•„ì´ì½˜ + ë¼ë²¨ (`iconPosition="start"`)
    - ì¸ë±ìŠ¤: `Math.min(activeTab, availableTabs.length - 1)` ë¡œ ì•ˆì „í•˜ê²Œ ì œì–´

- **íƒ­ë³„ íŒ¨ë„ ë Œë”ë§**
  - `availableTabs.map(...)` ë‚´ë¶€ì—ì„œ:
    - ê° íƒ­ì— ëŒ€í•´ `componentName`ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì œ lazy ì»´í¬ë„ŒíŠ¸ ì„ íƒ:
      - `'PolicySettingsTab'` â†’ `PolicySettingsTab`
      - `'LinkSettingsTab'` â†’ `LinkSettingsTab`
      - `'MainPageTextSettingsTab'` â†’ `MainPageTextSettingsTab`
      - `'DirectSalesReportTab'` â†’ `DirectSalesReportTab`
    - `role="tabpanel"`, `hidden={activeTab !== index}` ë¡œ íƒ­ í™œì„±/ë¹„í™œì„± ì œì–´
    - `ErrorBoundary` + `Suspense` ë¡œ ê°ì‹¸ì„œ **ì˜¤ë¥˜ ë° ë¡œë”© ì²˜ë¦¬** í†µì¼.
    - `tab.props` ê°€ ì¡´ì¬í•˜ë©´ í•´ë‹¹ propsë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬ (íŒë§¤ì¼ë³´ íƒ­ì—ì„œ ì‚¬ìš©).

### 3-4. íŒë§¤ì¼ë³´ & ê°œí†µì •ë³´ ì—°ë™

- **íŒë§¤ì¼ë³´ íƒ­ (`DirectSalesReportTab` with `isManagementMode=true`)**
  - ê° í–‰ í´ë¦­ ì‹œ `onRowClick` í˜¸ì¶œ â†’ `handleReportSelect(report)` ì‹¤í–‰
  - `selectedReport` ìƒíƒœì— ì„ íƒëœ ë°ì´í„° ì €ì¥

- **ê°œí†µì •ë³´ í˜ì´ì§€ (`OpeningInfoPage`)**
  - `selectedReport`ê°€ truthyì¼ ë•Œë§Œ ë Œë”ë§
  - `onBack` í˜¸ì¶œ ì‹œ, `selectedReport=null`ë¡œ ë˜ëŒë ¤ ë‹¤ì‹œ íƒ­ í™”ë©´ìœ¼ë¡œ ë³µê·€

---

## 4. ë‘ ëª¨ë“œì˜ ì°¨ì´ì  ìš”ì•½

- **ê¶Œí•œ/ëŒ€ìƒ**
  - **ì§ì˜ì  ëª¨ë“œ** (`DirectStoreMode`)
    - ëŒ€ìƒ: **ì§ì˜ì  í˜„ì¥(ì í¬)** ì‚¬ìš©ìë¥¼ ìœ„í•œ ëª¨ë“œ
    - ê¶Œí•œ ì†ŒìŠ¤: `loggedInStore.directStoreSecurity` (ë¹„ë°€ë²ˆí˜¸ í•„ìš” ì—¬ë¶€/ì¸ì¦ ìƒíƒœ)
    - ì—­í• :
      - ì í¬ì—ì„œ **ìƒí’ˆ/ì¬ê³ /íŒë§¤ì¼ë³´**ë¥¼ ì¡°íšŒí•˜ê³ , ê°œí†µì •ë³´ ì…ë ¥/í™•ì¸ì„ ìˆ˜í–‰
  - **ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ** (`DirectStoreManagementMode`)
    - ëŒ€ìƒ: **ë³¸ì‚¬/ê´€ë¦¬ì** ë˜ëŠ” ì§ì˜ì  ìš´ì˜ ë‹´ë‹¹ì
    - ê¶Œí•œ ì†ŒìŠ¤: `loggedInStore.modePermissions.directStoreManagement` (M/S/O ë‹¨ìœ„)
    - ì—­í• :
      - ì „ì²´ ì§ì˜ì  ì •ì±…/ë§í¬/ë©”ì¸í˜ì´ì§€ ë¬¸êµ¬ ì„¤ì •
      - ì „ì²´ íŒë§¤ì¼ë³´ ì§‘ê³„/ì¡°íšŒ ë° ìƒì„¸ í™•ì¸

- **ì¸ì¦ ë°©ì‹**
  - ì§ì˜ì  ëª¨ë“œ:
    - í•„ìš” ì‹œ ë³„ë„ **ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ í™”ë©´ + ë‹¤ì´ì–¼ë¡œê·¸**ë¥¼ í†µí•´ ì¶”ê°€ ì¸ì¦ ìˆ˜í–‰.
  - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ:
    - ì•± ì „ì²´ ë¡œê·¸ì¸/ê¶Œí•œ ê²€ì¦ í›„ ì§„ì…, ë³„ë„ ë¹„ë°€ë²ˆí˜¸ íŒì—… ì—†ìŒ.

- **íƒ­ êµ¬ì„±**
  - ì§ì˜ì  ëª¨ë“œ:
    - íœ´ëŒ€í° ëª©ë¡ / ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° / íŒë§¤ì¼ë³´
    - íƒ­ ê³ ì •, ê¶Œí•œì— ë”°ë¥¸ íƒ­ ì œê±°ë‚˜ ë¹„í™œì„±í™” ì—†ìŒ.
  - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ:
    - ì •ì±… ì„¤ì • / ë§í¬ ì„¤ì • / ë©”ì¸í˜ì´ì§€ ë¬¸êµ¬ ì„¤ì • / ì „ì²´ íŒë§¤ì¼ë³´
    - **ê¶Œí•œ(M/S/O)ì— ë”°ë¼ ë…¸ì¶œë˜ëŠ” íƒ­ì´ ë™ì ìœ¼ë¡œ ë‹¬ë¼ì§**.

- **íŒë§¤ì¼ë³´ ëª¨ë“œ ì°¨ì´**
  - ì§ì˜ì  ëª¨ë“œ:
    - `isManagementMode={false}` â†’ ì í¬ ë‹¨ìœ„/í˜„ì¥ìš© ë·°
  - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ:
    - `isManagementMode={true}` â†’ ì „ì²´ ì§‘ê³„/ê´€ë¦¬ììš© ë·° (ê¶Œí•œì— ë”°ë¼ ì ‘ê·¼)

- **ì „ì²´í™”ë©´/UX**
  - ì§ì˜ì  ëª¨ë“œ:
    - `ì˜¤ëŠ˜ì˜ íœ´ëŒ€í°` íƒ­ì—ì„œ **ì „ì²´í™”ë©´ í† ê¸€** ì œê³µ (í˜„ì¥ ë””ìŠ¤í”Œë ˆì´ìš©ìœ¼ë¡œ í™œìš©).
  - ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ:
    - ì •ì±…/ë§í¬/ë¬¸êµ¬/íŒë§¤ì¼ë³´ ìœ„ì£¼ì˜ ê´€ë¦¬ í™”ë©´, ì „ì²´í™”ë©´ í† ê¸€ì€ ë³„ë„ ì œê³µí•˜ì§€ ì•ŠìŒ.

---

## 5. íœ´ëŒ€í° ëª©ë¡ / ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° / ê°œí†µì •ë³´ ì…ë ¥ ë°ì´í„° íë¦„

### 5-1. íœ´ëŒ€í° ëª©ë¡ íƒ­ (`MobileListTab`) ë°ì´í„° íë¦„

- **ì „ì²´ íë¦„ ê°œìš”**
  - (1) í†µì‹ ì‚¬ íƒ­ ì„ íƒ â†’ (2) ë¦¬ìŠ¤íŠ¸/ìš”ê¸ˆì œêµ° ë¡œë”© â†’ (3) ê° ë‹¨ë§ì˜ ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜•/ê°€ê²© ìë™ ê³„ì‚° â†’  
    (4) ì‚¬ìš©ìê°€ ìš”ê¸ˆì œêµ°/ìœ í˜•/íƒœê·¸/ì´ë¯¸ì§€ ë“±ì„ ì¡°ì • â†’ (5) í–‰ í´ë¦­ ì‹œ í˜„ì¬ ì„ íƒ ìƒíƒœ í¬í•¨í•´ì„œ `OpeningInfoPage`ë¡œ ì „ë‹¬.

- **1) ì§„ì… ë° í†µì‹ ì‚¬ ì„ íƒ**
  - ìƒë‹¨ í†µì‹ ì‚¬ íƒ­:
    - `carrierTab` ìƒíƒœ: `0(SKT) / 1(KT) / 2(LG)`  
    - `getCurrentCarrier()`ë¡œ `SK / KT / LG` ë¬¸ìì—´ë¡œ ë³€í™˜.
  - íƒ­ ë³€ê²½ ì‹œ:
    - `handleCarrierChange`ì—ì„œ
      - `carrierTab` ë³€ê²½
      - ì´ˆê¸°í™” ê´€ë ¨ ref/state (`initializedRef`, `isInitializingRef`, `userSelectedOpeningTypesRef`, `expectedCalculationsRef`, `isInitializing`) ëª¨ë‘ ë¦¬ì…‹  
      â†’ í†µì‹ ì‚¬ ë°”ë€Œë©´ **ë‹¤ì‹œ ì²˜ìŒë¶€í„° ëª©ë¡/ê°€ê²© ê³„ì‚°**.

- **2) íœ´ëŒ€í° ëª©ë¡ ë¡œë“œ**
  - í›…: `useEffect(..., [carrierTab])`
  - API:
    - `directStoreApiClient.getMobileList(carrier, { withMeta: true })`
  - ì‘ë‹µ:
    - `{ list, meta }` êµ¬ì¡°
    - `safeList = list || []` â†’ `setMobileList(safeList)`
    - `steps.fetch.status`:
      - ì„±ê³µ ì‹œ: `success` ë˜ëŠ” ë°ì´í„° ì—†ìœ¼ë©´ `empty`
      - ì‹¤íŒ¨ ì‹œ: `error` ì™€ í•¨ê»˜ `error` ë©”ì‹œì§€ í‘œì‹œ
  - ì¬ë¡œë”© ë²„íŠ¼(`ìƒˆë¡œê³ ì¹¨`)ë„ ë™ì¼í•œ APIë¥¼ ë‹¤ì‹œ í˜¸ì¶œ (`handleReload`).

- **3) ìš”ê¸ˆì œêµ° ëª©ë¡ ë¡œë”©**
  - í›…: `useEffect(..., [carrierTab])`
  - ìºì‹œ ìš°ì„ :
    - `sessionStorage['planGroups-{carrier}']`ë¥¼ 5ë¶„ TTLë¡œ ì‚¬ìš©
  - API:
    - ìºì‹œê°€ ì—†ê±°ë‚˜ ë§Œë£Œëœ ê²½ìš° `directStoreApiClient.getLinkSettings(carrier)`
    - ì‘ë‹µì˜ `planGroup.planGroups`ì—ì„œ ìš”ê¸ˆì œêµ° ë¦¬ìŠ¤íŠ¸ë§Œ ì¶”ì¶œí•´ `setPlanGroups`.
  - ì´ ë°ì´í„°ëŠ” **ê¸°ë³¸ ìš”ê¸ˆì œêµ° ì„ íƒ** ë° **ê°€ê²© ê³„ì‚° ì‹œ planGroup ê°’**ìœ¼ë¡œ ì‚¬ìš©.

- **4) ì´ˆê¸° ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜•/ê°€ê²© ìë™ ì„¸íŒ…**
  - í›…: `useEffect(..., [mobileList, planGroups])`
  - ì£¼ìš” ìƒíƒœ/ë ˆí¼ëŸ°ìŠ¤:
    - `selectedPlanGroups`: `{ modelId: planGroup }`
    - `selectedOpeningTypes`: `{ modelId: openingType }`
    - `calculatedPrices`: `{ "{modelId}-{openingType}": { storeSupportWithAddon, ... } }`
    - `expectedCalculationsRef`: ì´ˆê¸° ê³„ì‚°ì´ ì˜ˆìƒë˜ëŠ” `modelId` ì§‘í•©
    - `priceCalculationQueueRef`: ê°€ê²© ê³„ì‚° ì‘ì—… í
  - ë™ì‘:
    1. `mobileList`ì™€ `planGroups`ê°€ ì¤€ë¹„ë˜ë©´ `setDefaultValues()` ì‹¤í–‰.
    2. ì´ë¯¸ ì´ˆê¸°í™” ì™„ë£Œ + ì‚¬ìš©ì ìˆ˜ë™ ì„ íƒì´ ìˆëŠ” ê²½ìš°ëŠ” **ê¸°ë³¸ê°’ ë®ì–´ì“°ê¸° ë°©ì§€**.
    3. ê° ë‹¨ë§(`model`)ì— ëŒ€í•´:
       - íƒœê·¸ ê¸°ë°˜ ê¸°ë³¸ ìš”ê¸ˆì œêµ°:
         - `isPremium === true` â†’ `115êµ°`
         - `isBudget === true` â†’ `33êµ°`
         - ë‘˜ ë‹¤ ì•„ë‹ˆë©´ â†’ `115êµ°`
       - ê¸°ë³¸ ê°œí†µìœ í˜•: í•­ìƒ `'MNP'`
       - `planGroups` ëª©ë¡ì— ì‹¤ì œ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì„ í˜¸ ìˆœì„œ:
         - `planGroups[0]` (ëª©ë¡ì˜ ì²« ë²ˆì§¸) ë˜ëŠ” ë°ì´í„° ì—†ìœ¼ë©´ ìŠ¤í‚µ.
    4. `userSelectedOpeningTypesRef`ì— ê¸°ë¡ëœ ëª¨ë¸ì€ **ì‚¬ìš©ì ì„ íƒ ìœ ì§€**:
       - ì´ë¯¸ ì„ íƒëœ ê°œí†µìœ í˜•/ìš”ê¸ˆì œêµ°ì€ ê±´ë“œë¦¬ì§€ ì•Šê³ , ë¶€ì¡±í•œ ì •ë³´ë§Œ ì±„ì›€.
    5. ê³„ì‚° íì— ê°€ê²© ê³„ì‚° ìš”ì²­ ì¶”ê°€:
       - `calculationQueue.push({ modelId, planGroup, openingType })`
       - ì´ˆê¸° ë¡œë”© ì‹œì—ëŠ” ìºì‹œë¥¼ ë¬´ì‹œí•˜ê³  í•­ìƒ ì„œë²„ ê³„ì‚°, ì´í›„ì—ëŠ” ìºì‹œ ê²€ì¦ í›„ í•„ìš” ì‹œì—ë§Œ ì„œë²„ í˜¸ì¶œ.
    6. `setSelectedPlanGroups`, `setSelectedOpeningTypes`ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸.
    7. íì— ìŒ“ì¸ í•­ëª©ì„ `calculatePrice`/`calculatePriceInternal`ì„ í†µí•´ **ë°°ì¹˜ ì²˜ë¦¬**.

- **5) ê°€ê²© ê³„ì‚° ë¡œì§**
  - API:
    - `directStoreApiClient.calculateMobilePrice(modelId, planGroup, openingType, carrier, modelName)`
  - ìºì‹œ:
    - `getCachedPrice` / `setCachedPrice` / `setCachedPricesBatch`
    - `modelId`, `planGroup`, `openingType`, `carrier` ë‹¨ìœ„ë¡œ ìºì‹±
    - `publicSupport` ì°¨ì´ê°€ 10ë§Œì› ì´ìƒì´ë©´ **ìºì‹œ ë¬´íš¨í™”** â†’ ì„œë²„ ê°’ ìš°ì„ .
  - í ì²˜ë¦¬:
    - `priceCalculationQueueRef`ì— ìš”ì²­ì„ ìŒ“ê³  `processPriceCalculationQueue()`ì—ì„œ:
      - `BATCH_SIZE=1`, `DELAY_MS=1500ms`ë¡œ ë§¤ìš° ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ìˆœì°¨ ì‹¤í–‰
      - `MAX_QUEUE_SIZE`, `MAX_QUEUE_PROCESSING_ATTEMPTS`ë¡œ í­ì£¼ ë°©ì§€
    - ê° ì‘ë‹µì„ `calculatedPrices["{modelId}-{openingType}"]`ì— ì €ì¥.
  - ì´ˆê¸°í™” ì™„ë£Œ ì²´í¬:
    - `expectedCalculationsRef`ì™€ í˜„ì¬ `calculatedPrices` í‚¤ë¥¼ ë¹„êµí•´  
      **ëª¨ë“ (or ì¼ì • ìˆ˜ ì´ìƒ) ëª¨ë¸ì˜ ê°€ê²© ê³„ì‚°ì´ ëë‚˜ë©´** `isInitializing=false`ë¡œ ì „í™˜.

- **6) UIì—ì„œ ë³´ì—¬ì£¼ëŠ” ê°’ ê²°ì • (`getDisplayValue`)**
  - `MobileListTab` â†’ `MobileListRow`ë¡œ `getDisplayValue`ë¥¼ propìœ¼ë¡œ ë„˜ê¹€.
  - ë‚´ë¶€ ë¡œì§:
    - `openingType`ì— ë§ëŠ” `priceKey = "{row.id}-{openingType}"`ë¡œ `calculatedPrices` ì¡°íšŒ.
    - ê³„ì‚°ëœ ê°’ì´ ì¡´ì¬í•˜ê³  `openingType`ë„ ì¼ì¹˜í•˜ë©´:
      - í•´ë‹¹ í•„ë“œ(ì§€ì›ê¸ˆ/êµ¬ë§¤ê°€ ë“±)ë¥¼ ìš°ì„  ì‚¬ìš©.
      - ë‹¨, ëŒ€ë¦¬ì  ì§€ì›ê¸ˆ í•„ë“œê°€ `0`ì´ë©´ ì˜ëª»ëœ ê°’ìœ¼ë¡œ ë³´ê³  ì›ë˜ `row` ê°’ìœ¼ë¡œ fallback.
    - ì—†ê±°ë‚˜ ë¶ˆì¼ì¹˜ ì‹œ:
      - ì„œë²„ì—ì„œ ë‚´ë ¤ì˜¨ ì›ë³¸ `row[field]` ì‚¬ìš©.
  - ë”°ë¼ì„œ **í™”ë©´ì— ë³´ì´ëŠ” ê¸ˆì•¡**ì€ í•­ìƒ:
    - "ì›ë³¸ ë°ì´í„° + ì„ íƒí•œ ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜• ê¸°ë°˜ ìµœì‹  ê³„ì‚°ê°’" ì¤‘ **ê°€ì¥ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê°’**.

- **7) ì‚¬ìš©ì ì…ë ¥/ì•¡ì…˜ì— ë”°ë¥¸ ë°ì´í„° ë³€ê²½**
  - **ìš”ê¸ˆì œêµ° ë³€ê²½ (`handlePlanGroupChange`)**
    - `selectedPlanGroups[modelId]` ì—…ë°ì´íŠ¸.
    - `selectedOpeningTypes[modelId]`ê°€ ìˆìœ¼ë©´ ê·¸ openingTypeìœ¼ë¡œ ì¬ê³„ì‚°, ì—†ìœ¼ë©´ `'010ì‹ ê·œ'`ë¡œ ê³„ì‚°.
  - **ê°œí†µìœ í˜• ë³€ê²½ (`handleOpeningTypeChange`)**
    - `userSelectedOpeningTypesRef`ì— `modelId`ë¥¼ ë“±ë¡ (ì´ˆê¸° ê¸°ë³¸ê°’ ë¡œì§ì´ ë®ì–´ì“°ì§€ ëª»í•˜ê²Œ).
    - `selectedOpeningTypes[modelId]`ë¥¼ ìƒˆë¡œìš´ openingTypeìœ¼ë¡œ ì—…ë°ì´íŠ¸.
    - í•´ë‹¹ ëª¨ë¸ì— ì„ íƒëœ ìš”ê¸ˆì œêµ°ì´ ìˆìœ¼ë©´, ìƒˆ openingType ê¸°ì¤€ìœ¼ë¡œ ê°€ê²© ì¬ê³„ì‚°.
  - **êµ¬ë¶„ íƒœê·¸ ë³€ê²½ (`handleTagChange`)**
    - `isPopular`, `isRecommended`, `isCheap`, `isPremium`, `isBudget` ë“±ì˜ boolean ì—…ë°ì´íŠ¸.
    - ë‹¨ë§ í–‰ì€ ë¨¼ì € ë‚™ê´€ì ìœ¼ë¡œ ë¡œì»¬ ì—…ë°ì´íŠ¸ í›„,  
      `directStoreApiClient.updateMobileTags(modelId, payload)`ë¡œ ì„œë²„ ë°˜ì˜.
    - `premium`/`budget` íƒœê·¸ê°€ ë³€í•˜ë©´:
      - ìë™ ìš”ê¸ˆì œêµ° ë¡œì§ì— ë”°ë¼ `33êµ°/115êµ°` ì¬ì„ íƒ â†’ ê°€ê²© ì¬ê³„ì‚° ë°œìƒ.
  - **ì´ë¯¸ì§€ ì—…ë¡œë“œ (`handleImageUploadClick` + `handleFileChange`)**
    - `directStoreApi.uploadImage(file, modelId, carrier, modelName, petName)` í˜¸ì¶œ.
    - ì„±ê³µ í›„:
      - í˜„ì¬ `mobileList`ì—ì„œ í•´ë‹¹ ëª¨ë¸ì˜ `image` í•„ë“œë¥¼ ìš°ì„  ì—…ë°ì´íŠ¸.
      - ì´í›„ `getMobileList`ë¡œ ì„œë²„ ìµœì‹  ë°ì´í„°ë¥¼ ì¬ì¡°íšŒí•´ ë™ê¸°í™” ì‹œë„.
      - ë§ˆì§€ë§‰ìœ¼ë¡œ `window.dispatchEvent(new CustomEvent('imageUploaded', ...))` ì´ë²¤íŠ¸ ë°œì†¡  
        â†’ `TodaysMobileTab`ì—ì„œ ì¡ì•„ì„œ ìê¸° ë°ì´í„°ë¥¼ ì¬ë¡œë”©.

- **8) ê°œí†µì •ë³´ ì…ë ¥ í˜ì´ì§€ë¡œì˜ ë°ì´í„° ì „ë‹¬ (`handleRowClick`)**
  - í–‰ í´ë¦­ ì‹œ:
    - í˜„ì¬ ì„ íƒëœ ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜•ì„ í¬í•¨í•´ `onProductSelect` í˜¸ì¶œ:
      - `onProductSelect({ ...model, planGroup, openingType })`
  - `DirectStoreMode`ì—ì„œëŠ”:
    - `handleProductSelect(selected)`ê°€ `selectedProduct`ì— ì €ì¥
    - `OpeningInfoPage initialData`ë¡œ ê·¸ëŒ€ë¡œ ì „ë‹¬
    â†’ **íœ´ëŒ€í° ëª©ë¡ì—ì„œ ì„ íƒí•œ ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜•ì´ ê°œí†µì •ë³´ ì…ë ¥í™”ë©´ì˜ ì´ˆê¸°ê°’ì— ë°˜ì˜**.

---

### 5-2. ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° íƒ­ (`TodaysMobileTab`) ë°ì´í„° íë¦„

- **ì „ì²´ íë¦„ ê°œìš”**
  - (1) ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° ë°ì´í„° + ë©”ì¸ í—¤ë” ë¬¸êµ¬ + ìŠ¬ë¼ì´ë“œì‡¼ìš© ë°ì´í„° ë¡œë“œ  
    (2) í”„ë¦¬ë¯¸ì—„/ì¤‘ì €ê°€ ìƒí’ˆì„ í•©ì³ í™”ë©´ì— í‘œì‹œ  
    (3) ê° ì¹´ë“œì—ì„œ ê°€ê²© ê³„ì‚°(ìºì‹œ/ì„œë²„) â†’ ìºì‹œ/ì „ì—­ Mapìœ¼ë¡œ ê³µìœ   
    (4) ì¹´ë“œ í´ë¦­ ì‹œ ì„ íƒëœ ìƒí’ˆì„ `OpeningInfoPage`ë¡œ ì „ë‹¬.

- **1) ê¸°ë³¸ ë°ì´í„° ë¡œë”© (`fetchData`)**
  - ì§„ì… ì‹œ `initializeData`ì—ì„œ ìˆœì°¨ ì‹¤í–‰:
    1. `fetchData()`:
       - `directStoreApiClient.getTodaysMobiles()`
       - ì‘ë‹µ êµ¬ì¡° ì˜ˆì‹œ:
         - `data.premium`: í”„ë¦¬ë¯¸ì—„ ìƒí’ˆ ë°°ì—´
         - `data.budget`: ì¤‘ì €ê°€ ìƒí’ˆ ë°°ì—´
       - ê°ê° `setPremiumPhones`, `setBudgetPhones`ë¡œ ì €ì¥.
    2. `loadMainHeaderText()`:
       - `directStoreApiClient.getMainHeaderText()`
       - ë¬¸êµ¬(`content`)ë¥¼ `mainHeaderText`/`localStorage('direct-main-header-text')`ì— ì €ì¥.
    3. `prepareSlideshowData()`:
       - (ì•„ë˜ ìŠ¬ë¼ì´ë“œì‡¼ ì¤€ë¹„ ë¡œì§ ì°¸ê³ )

- **2) ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° ìƒí’ˆ ë¬¶ìŒ êµ¬ì„± (`allProducts`)**
  - `premiumPhones` + `budgetPhones`ì—ì„œ:
    - í”„ë¦¬ë¯¸ì—„: `premium.slice(0, 3)`
    - ì¤‘ì €ê°€: `budget.slice(0, 2)`
    - í•©ì³ì„œ ìµœëŒ€ 3ê°œê¹Œì§€ë§Œ í‘œì‹œ (`combined.slice(0, 3)`)
  - ì´ `allProducts`ëŠ”:
    - ì¼ë°˜ ê·¸ë¦¬ë“œ ëª¨ë“œì—ì„œ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì‚¬ìš©.
    - ê°€ê²© ì´ˆê¸°í™”/ê³„ì‚° ëŒ€ìƒ ëª©ë¡ìœ¼ë¡œë„ ì‚¬ìš©.

- **3) ê°€ê²© ë°ì´í„° ìºì‹± (`getPriceDataFromCache`, `calculatedPricesRef`)**
  - ê°€ê²© ìºì‹œ ì¡°íšŒ í•¨ìˆ˜ `getPriceDataFromCache(product)`:
    - â‘  ë¨¼ì € `calculatedPricesRef.current` ì•ˆì— ì´ë¯¸ ê³„ì‚°ëœ ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸.
      - `product.id` í‚¤ë¡œ ì¡°íšŒí•˜ê³ , `010ì‹ ê·œ/MNP/ê¸°ë³€` 3ê°œ ìœ í˜• ëª¨ë‘ `loading === false`ì´ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©.
      - ì¼ë¶€ë§Œ ê³„ì‚°ëê±°ë‚˜ ì—†ìœ¼ë©´ `null` ë°˜í™˜ â†’ ì¹´ë“œ ë‹¨ì—ì„œ ìì²´ ë¡œë”©.
    - â‘¡ ì „ì—­ priceCache(`getCachedPrice`) í™•ì¸:
      - planGroup:
        - `isBudget && !isPremium` â†’ `33êµ°`
        - ë‚˜ë¨¸ì§€ â†’ `115êµ°`
      - openingType: `010ì‹ ê·œ/MNP/ê¸°ë³€` ê°ê°ì— ëŒ€í•´ ìºì‹œ ì¡°íšŒ.
      - ì–´ëŠ í•˜ë‚˜ë¼ë„ ìºì‹œê°€ ìˆìœ¼ë©´ `priceData` êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜.
  - ê°€ê²© ê³„ì‚° ì™„ë£Œ ì½œë°± `handlePriceCalculated(productId, priceData)`:
    - ê°œë³„ ì¹´ë“œ(`TodaysProductCard`)ê°€ ì„œë²„ ê³„ì‚°ì„ ëë‚´ë©´ í˜¸ì¶œ.
    - `calculatedPricesRef.current.set(productId, priceData)` í›„ `priceCalculationTrigger` ì¦ê°€ â†’ ì¬ë Œë”ë§ ìœ ë„.

- **4) allProducts ê¸°ì¤€ ê°€ê²© ì´ˆê¸°í™” í”Œë¡œìš°**
  - `allProducts` ë³€ê²½ ì‹œ:
    - `expectedCalculationsRef`ì— `product.id`ë“¤ì„ ì €ì¥.
    - `calculatedPricesRef`ë¥¼ ê° ìƒí’ˆ/ê° ìœ í˜•ì— ëŒ€í•´ `loading: true` ìƒíƒœë¡œ ì´ˆê¸°í™”.
  - ë³„ë„ì˜ ê°€ê²© ê³„ì‚° ë¡œì§ì€ `TodaysProductCard` ë‚´ì—ì„œ:
    - ìºì‹œ ì—†ìœ¼ë©´ `directStoreApiClient.calculateMobilePrice(...)` í˜¸ì¶œ.
    - ì™„ë£Œ í›„ `onPriceCalculated(productId, priceData)`ë¡œ ìƒìœ„ì— ê²°ê³¼ ì „ë‹¬.
  - ìƒìœ„ `TodaysMobileTab`ëŠ”:
    - `isInitializing` ìƒíƒœì—ì„œ `expectedCalculationsRef`/`calculatedPricesRef` ì¡°í•©ì„ ë³´ê³ ,
      - ì¼ì • ìˆ˜ ì´ìƒ(product ë‹¹ ìµœì†Œ í•œ ìœ í˜•) ê³„ì‚° ì™„ë£Œë˜ë©´ `isInitializing=false` ì „í™˜ (ì ì§„ì  ë¡œë”©).
      - ìµœëŒ€ 30ì´ˆ ë„˜ìœ¼ë©´ ê°•ì œë¡œ ë¡œë”© ì¢…ë£Œ.

- **5) ìŠ¬ë¼ì´ë“œì‡¼ ë°ì´í„° ì¤€ë¹„ ë° ìºì‹± (`prepareSlideshowData`)**
  - ìŠ¬ë¼ì´ë“œì‡¼ ìš©ë„ë¡œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ëŠ” **ì²´í¬(íƒœê·¸)ëœ ìƒí’ˆ** ê¸°ì¤€:
    1. `carriers = ['SK', 'KT', 'LG']` ê°ê°ì— ëŒ€í•´:
       - `directStoreApiClient.getMobileList(carrier)` í˜¸ì¶œ.
       - `isPopular`, `isRecommended`, `isCheap`, `isPremium`, `isBudget` ì¤‘ í•˜ë‚˜ë¼ë„ `true`ì¸ ìƒí’ˆë§Œ í•„í„°.
    2. í†µì‹ ì‚¬ë³„ë¡œ:
       - `premium = isPremium === true`
       - `budget = isBudget === true`
       - ê°ê° 3ê°œì”© ìŠ¬ë¼ì´ë“œì— ë¬¶ì–´ `type: 'productGroup'`ìœ¼ë¡œ ì¶”ê°€.
       - ì•ë’¤ êµ¬ê°„ì—ëŠ” `type: 'transition'` ìŠ¬ë¼ì´ë“œë¥¼ ì¶”ê°€í•˜ì—¬ íšŒì˜ìš© ì—°ê²°í˜ì´ì§€ ì—­í• .
       - transition í…ìŠ¤íŠ¸/ì´ë¯¸ì§€ëŠ” `directStoreApiClient.getTransitionPageText(carrier, category)`ë¡œ ê°€ì ¸ì˜´.
    3. ëª¨ë“  ìƒí’ˆì— ëŒ€í•´ ê°€ê²© ë¯¸ë¦¬ ë¡œë“œ:
       - `planGroup`: í”„ë¦¬ë¯¸ì—„/ì¤‘ì €ê°€ ê·œì¹™ ë™ì¼.
       - openingType ì„¸ ê°€ì§€(`010ì‹ ê·œ, MNP, ê¸°ë³€`)ì— ëŒ€í•´  
         `calculateMobilePrice`ë¥¼ ë³‘ë ¬ í˜¸ì¶œ â†’ `setCachedPricesBatch`ë¡œ ì „ì—­ ìºì‹œì— ì €ì¥.
  - ì´ êµ¬ì¡°(`slideshowData`)ëŠ”:
    - ìŠ¬ë¼ì´ë“œì‡¼ ëª¨ë“œ / ìˆ˜ë™ ìŠ¬ë¼ì´ë“œ ëª¨ë“œì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©.

- **6) ì´ë¯¸ì§€ ë³€ê²½ ì—°ë™ (`imageUploaded` ì´ë²¤íŠ¸ ìˆ˜ì‹ )**
  - `MobileListTab`ì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„±ê³µ ì‹œ:
    - `window.dispatchEvent(new CustomEvent('imageUploaded', { detail: { carrier, modelId, imageUrl } }))`
  - `TodaysMobileTab`ì—ì„œëŠ”:
    - `useEffect`ì—ì„œ `imageUploaded` ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡.
    - ì´ë²¤íŠ¸ ìˆ˜ì‹  ì‹œ:
      - 1ì´ˆ ì§€ì—° í›„ `fetchData()` ì¬í˜¸ì¶œ â†’ ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° ë°ì´í„° ì¬ë¡œë“œ  
        â†’ ì´ë¯¸ì§€/íƒœê·¸ ë³€ê²½ì„ ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° í™”ë©´ì—ë„ ë°˜ì˜.

- **7) ê°œí†µì •ë³´ ì…ë ¥ í˜ì´ì§€ë¡œì˜ ë°ì´í„° ì „ë‹¬**
  - ê° ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ `TodaysProductCard`ëŠ”:
    - `onSelect={onProductSelect}` propì„ ë°›ì•„, í´ë¦­ ì‹œ ìƒìœ„ `DirectStoreMode`ì— ì„ íƒ ìƒí’ˆ ì „ë‹¬.
  - ì „ë‹¬ ë°ì´í„°:
    - ìµœì†Œí•œ `product` ì „ì²´ ì •ë³´(ëª¨ë¸ëª…, carrier, factoryPrice ë“±) +  
      (ì¹´ë“œ ë‚´ë¶€ ë¡œì§ì— ë”°ë¼ í•„ìš” ì‹œ planGroup/openingTypeì„ í¬í•¨í•  ìˆ˜ ìˆìŒ).
  - ìµœì¢…ì ìœ¼ë¡œ `DirectStoreMode`ì˜ `handleProductSelect`ë¥¼ í†µí•´  
    `OpeningInfoPage initialData`ë¡œ ì „ë‹¬ë˜ì–´, **ì˜¤ëŠ˜ì˜ íœ´ëŒ€í°ì—ì„œ ì„ íƒí•œ ìƒí’ˆ ì •ë³´ê°€ ê°œí†µì •ë³´ ì…ë ¥í™”ë©´ì˜ ì´ˆê¸°ê°’**ì´ ë¨.

---

### 5-3. ê°œí†µì •ë³´ ì…ë ¥ í˜ì´ì§€ (`OpeningInfoPage`) ë°ì´í„° íë¦„

- **ì „ì²´ íë¦„ ê°œìš”**
  - (1) `MobileListTab`/`TodaysMobileTab`/`íŒë§¤ì¼ë³´`ì—ì„œ ì„ íƒëœ ë°ì´í„°(`initialData`)ë¥¼ ë°›ìŒ  
    (2) í†µì‹ ì‚¬/ìš”ê¸ˆì œ/ì •ì±… ì •ë³´ë¥¼ ì‹œíŠ¸/ì„¤ì •ì—ì„œ ë‹¤ì‹œ ì¡°íšŒí•´ í¼ ì´ˆê¸°í™”  
    (3) ê³„ì‚° ì—”ì§„ì„ ì´ìš©í•´ í• ë¶€ì›ê¸ˆ/ì›” ë‚©ë¶€ê¸ˆ/í˜„ê¸ˆê°€ ë“± ì‹¤ì‹œê°„ ê³„ì‚°  
    (4) `ì €ì¥` ì‹œ íŒë§¤ì¼ë³´ ì‹œíŠ¸ í¬ë§·ì— ë§ì¶° ë°ì´í„°ë¥¼ ì¡°í•©í•´ ì„œë²„ì— ê¸°ë¡.

- **1) ì§„ì… ì‹œ ì´ˆê¸°ê°’ êµ¬ì„± (`initialData`)**
  - `initialData`ëŠ” ìƒìœ„ ëª¨ë“œì—ì„œ ì„ íƒëœ ìƒí’ˆ/íŒë§¤ ë°ì´í„°:
    - `carrier`, `factoryPrice`, `publicSupport` or `support`, `storeSupport`, `storeSupportNoAddon`
    - (íœ´ëŒ€í°ëª©ë¡ì—ì„œ ì˜¨ ê²½ìš°) `planGroup`, `openingType`
    - (íŒë§¤ì¼ë³´ì—ì„œ ì˜¨ ê²½ìš°) ì´ë¯¸ ê¸°ë¡ëœ ê³ ê°/ê°œí†µ ì •ë³´ í¬í•¨ ê°€ëŠ¥.
  - ì»´í¬ë„ŒíŠ¸ ì´ˆê¸° state:
    - `selectedCarrier`: `initialData?.carrier || 'SK'`
    - `factoryPrice`: `initialData?.factoryPrice || 0`
    - `publicSupport`: `initialData?.publicSupport || initialData?.support || 0`
    - `storeSupportWithAddon`: `initialData?.storeSupport || 0`
    - `storeSupportWithoutAddon`: `initialData?.storeSupportNoAddon || 0`
    - `formData.openingType`:
      - `convertOpeningType(initialData?.openingType)` â†’ `NEW/MNP/CHANGE`ë¡œ ë³€í™˜.
    - ìš”ê¸ˆì œ/ë‹¨ë§/ìœ ì‹¬/ê³ ê° ì •ë³´ ë“±ì€ initialData í˜¹ì€ ë¹ˆ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”.

- **2) ìš”ê¸ˆì œ ê·¸ë£¹/ìš”ê¸ˆì œ ëª©ë¡ ë¡œë“œ (`loadPlanGroups`)**
  - API: `directStoreApiClient.getLinkSettings(selectedCarrier)`
  - ì‘ë‹µì—ì„œ:
    - `sheetId`, `planNameRange`, `planGroupRange`, `basicFeeRange` ì •ë³´ë¥¼ ì´ìš©í•´  
      ë‹¤ì‹œ `fetchRangeData` 3ë²ˆ í˜¸ì¶œ â†’ ì‹¤ì œ êµ¬ê¸€ ì‹œíŠ¸ì˜ ìš”ê¸ˆì œ/ìš”ê¸ˆì œêµ°/ê¸°ë³¸ë£Œë¥¼ ì½ì–´ì˜´.
  - ê°€ê³µ:
    - ê°™ì€ ì¸ë±ìŠ¤ì˜ ê°’ë“¤ì„ ë¬¶ì–´ `plans[]` êµ¬ì¡° ìƒì„±:
      - `{ name: "ìš”ê¸ˆì œëª…(ìš”ê¸ˆì œêµ°)", planName, group, basicFee }`
  - í¼ì— ë°˜ì˜:
    - `setPlanGroups(plans)`
    - ì²« ë²ˆì§¸ ìš”ê¸ˆì œë¥¼ `selectedPlanGroup`, `planBasicFee`, `formData.plan`ì— ë°˜ì˜.
  - ì‹¤íŒ¨/ë°ì´í„° ì—†ìŒ:
    - `linkSettings.planGroup.planGroups`ë¥¼ ì´ìš©í•œ fallback ìë™ ìƒì„±  
      (ê¸°ë³¸ë£ŒëŠ” ì„ì˜ ê°’ìœ¼ë¡œ ê³„ë‹¨ì‹ìœ¼ë¡œ ë¶€ì—¬).

- **3) ì •ì±… ê¸°ë°˜ í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤/ë³´í—˜ìƒí’ˆ ë¡œë“œ (`loadRequiredAddons`)**
  - API: `directStoreApi.getPolicySettings(selectedCarrier)`
  - ë¶€ê°€ì„œë¹„ìŠ¤:
    - `policySettings.addon.list` ì¤‘ `deduction > 0`ì¸ í•­ëª© â†’ í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤
    - `incentive > 0`ì¸ í•­ëª© â†’ ë¶€ê°€ìœ ì¹˜ ì‹œ ìœ ì¹˜ë˜ëŠ” ë¶€ê°€ì„œë¹„ìŠ¤ ì´ë¦„ì„ `addonIncentiveList`ë¡œ ë³„ë„ ë³´ê´€.
  - ë³´í—˜ìƒí’ˆ:
    - `factoryPrice`ê°€ ì¼ì • êµ¬ê°„ì— ë“¤ì–´ê°€ëŠ” ë³´í—˜ìƒí’ˆ 1ê°œë¥¼ ì°¾ì•„ í•„ìˆ˜ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€.
    - `incentive > 0`ì´ë©´ `insuranceIncentiveList`ì— ì¶”ê°€.
  - ì‹¤íŒ¨/ì •ì±… ì—†ìŒ:
    - `ìš°ì£¼íŒ¨ìŠ¤`, `Vì»¬ëŸ¬ë§` ë“± Mock ë°ì´í„°ë¥¼ í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤ë¡œ ì„¸íŒ….

- **4) initialData ê¸°ë°˜ ìµœì´ˆ ëŒ€ë¦¬ì  ì§€ì›ê¸ˆ ìë™ ê³„ì‚°**
  - ì¡°ê±´:
    - `initialData.planGroup`ê³¼ `initialData.openingType`ì´ ì¡´ì¬í•˜ê³ ,
    - `planGroups`ê¹Œì§€ ë¡œë“œê°€ ëë‚œ í›„.
  - ë™ì‘:
    1. `planGroups`ì—ì„œ `initialData.planGroup`ì— ë§¤ì¹­ë˜ëŠ” plan ì°¾ê¸°.
    2. `openingTypeMap`ìœ¼ë¡œ `NEW/MNP/CHANGE/010ì‹ ê·œ/ê¸°ë³€` ë¬¸ìì—´ì„ í†µì¼.
    3. `modelId`:
       - ìš°ì„  `initialData.id` ì‚¬ìš©.
       - ì—†ìœ¼ë©´ `getMobileList(selectedCarrier)` í˜¸ì¶œë¡œ modelëª…+carrierë¡œ ë§¤ì¹­.
    4. `calculateMobilePrice(modelId, planGroup, openingType, selectedCarrier, modelName)` í˜¸ì¶œ.
    5. ì„±ê³µ ì‹œ:
       - `publicSupport`, `storeSupportWithAddon`, `storeSupportWithoutAddon`ë¥¼ **ì„œë²„ ê³„ì‚°ê°’ìœ¼ë¡œ ê°±ì‹ **.
  - ì´ ë¡œì§ ë•ë¶„ì—:
    - íœ´ëŒ€í° ëª©ë¡/ì˜¤ëŠ˜ì˜ íœ´ëŒ€í°ì—ì„œ ì„ íƒí•œ planGroup/openingTypeì„ ê°œí†µì •ë³´ í˜ì´ì§€ì—ì„œ ê·¸ëŒ€ë¡œ ì´ì–´ë°›ê³ ,  
      ì„œë²„ ê³„ì‚° ê²°ê³¼ë¡œ ë‹¤ì‹œ ì •êµí•˜ê²Œ ë³´ì • ê°€ëŠ¥.

- **5) ìš”ê¸ˆì œ ë³€ê²½ ì‹œ ëŒ€ë¦¬ì  ì§€ì›ê¸ˆ/ì´í†µì‚¬ ì§€ì›ê¸ˆ ì¬ê³„ì‚°**
  - ìš”ê¸ˆì œ `Autocomplete`ì—ì„œ ìš”ê¸ˆì œ ì„ íƒ ë³€ê²½ ì‹œ:
    1. `formData.plan`, `selectedPlanGroup`, `planBasicFee` ì—…ë°ì´íŠ¸.
    2. `planGroup = newValue.group || newValue.name` ì¶”ì¶œ.
    3. `initialData.id` í˜¹ì€ `model+carrier` ì¡°í•©ìœ¼ë¡œ `modelId`ë¥¼ ì°¾ìŒ.
    4. í˜„ì¬ `formData.openingType`(`NEW/MNP/CHANGE`)ì„ `010ì‹ ê·œ/MNP/ê¸°ë³€`ìœ¼ë¡œ ë§¤í•‘.
    5. ë‹¤ì‹œ `calculateMobilePrice(modelId, planGroup, openingType, selectedCarrier, modelName)` í˜¸ì¶œ.
    6. ì„±ê³µ ì‹œ:
       - `setPublicSupport`, `setStoreSupportWithAddon`, `setStoreSupportWithoutAddon`ì— ì„œë²„ê°’ ë°˜ì˜.
  - ìš”ê¸ˆì œ ì„ íƒ í•´ì œ ì‹œ:
    - `publicSupport`, `storeSupportWithAddon`, `storeSupportWithoutAddon`ë¥¼  
      ë‹¤ì‹œ `initialData` ê°’ìœ¼ë¡œ ë¡¤ë°±.

- **6) ê³„ì‚° ì—”ì§„ì„ í†µí•œ ì‹¤ì‹œê°„ ê¸ˆì•¡ ê³„ì‚°**
  - ì…ë ¥ê°’:
    - `factoryPrice`, `publicSupport`, `storeSupportWithAddon/WithoutAddon`
    - `formData`ì˜:
      - `openingType`, `installmentPeriod`, `contractType`, `paymentType`, `withAddon`, `usePublicSupport`, `lgPremier`, `cashPrice` ë“±
  - ì‚¬ìš© í•¨ìˆ˜ (`directStoreCalculationEngine`):
    - `calculateInstallmentPrincipalWithAddon / WithoutAddon`:
      - ì¶œê³ ê°€ â€“ ì´í†µì‚¬ ì§€ì›ê¸ˆ â€“ ëŒ€ë¦¬ì ì¶”ê°€ì§€ì›ê¸ˆì„ ê³„ì‚°í•´ **í• ë¶€ì›ê¸ˆ** ì‚°ì¶œ.
    - `calculateInstallmentFee`:
      - í• ë¶€ì›ê¸ˆê³¼ í• ë¶€ê°œì›”ìˆ˜ë¡œ **ì´ í• ë¶€ìˆ˜ìˆ˜ë£Œ / ì›” í• ë¶€ìˆ˜ìˆ˜ë£Œ** ê³„ì‚°.
    - `calculatePlanFee`:
      - ê¸°ë³¸ë£Œ, ì•½ì •/í”„ë¦¬ë¯¸ì–´ ì—¬ë¶€ë¡œ ì‹¤ì œ ì›” í†µì‹ ìš”ê¸ˆ ê³„ì‚°.
    - `calculateRequiredAddonsFee`:
      - í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤ ì›” í•©ê³„.
    - `calculateTotalMonthlyFee`:
      - í• ë¶€/í˜„ê¸ˆ ì—¬ë¶€ì— ë”°ë¼ **ìµœì¢… ì›” ë‚©ë¶€ê¸ˆ** ê³„ì‚° (í• ë¶€ì›ê¸ˆ, ìˆ˜ìˆ˜ë£Œ, ìš”ê¸ˆì œ, ë¶€ê°€ì„œë¹„ìŠ¤ í¬í•¨).
    - `calculateCashPrice`:
      - í˜„ê¸ˆ ê²°ì œ ì‹œ í•„ìš”í•œ ê¸ˆì•¡ ì‚°ì¶œ.
  - `OpeningInfoPage`ì—ì„œëŠ” ì´ ê°’ë“¤ì„:
    - ì¢Œì¸¡ í¼(í• ë¶€ì›ê¸ˆ, í˜„ê¸ˆê°€ í•„ë“œ ë“±),
    - ìš°ì¸¡ ìš”ì•½ ë°•ìŠ¤(ë‹¨ë§ê¸° ê¸ˆì•¡/ìš”ê¸ˆ ê¸ˆì•¡/ìµœì¢… ì›” ë‚©ë¶€ê¸ˆ)ì— ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œ.

- **7) ì €ì¥(ì…ë ¥ì™„ë£Œ) ì‹œ íŒë§¤ì¼ë³´ ë°ì´í„° ìƒì„± (`handleComplete`)**
  - ì „ì œ ì¡°ê±´:
    - ë™ì˜ ì²´í¬(`agreementChecked`) í•„ìˆ˜.
    - ê³ ê°ëª…/ì—°ë½ì²˜, ìš”ê¸ˆì œ í•„ìˆ˜.
  - ìƒì„±ë˜ëŠ” `saveData` í•„ë“œ ìš”ì•½:
    - ë§¤ì¥/ê¸°ë³¸ ì •ë³´:
      - `posCode`, `company`, `storeName`, `storeId`, `soldAt(ISO)`.
    - ê³ ê°/ê°œí†µ ì •ë³´:
      - `customerName`, `customerContact`, `ctn`, `carrier`, `model`, `color`, `deviceSerial`
      - `simModel`, `simSerial`, `openingType(NEW/MNP/CHANGE)`, `prevCarrier`, `installmentType(í• ë¶€/í˜„ê¸ˆ)`,  
        `installmentPeriod`, `contractType`, `plan`, `addons(í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤ ì´ë¦„ë“¤)`.
    - ê¸ˆì•¡/ì§€ì›ê¸ˆ:
      - `factoryPrice`, `publicSupport`, `storeSupportWithAddon`, `storeSupportNoAddon`, `storeSupportWithoutAddon`.
      - ì°¸ê³ ìš© ê³„ì‚°ê°’(ì‹œíŠ¸ì—ëŠ” ì§ì ‘ ì €ì¥í•˜ì§€ ì•Šë”ë¼ë„ í¬í•¨):  
        í• ë¶€ì›ê¸ˆ(ë¶€ê°€ìœ ì¹˜/ë¯¸ìœ ì¹˜), í• ë¶€ìˆ˜ìˆ˜ë£Œ, ìš”ê¸ˆì œ/ë¶€ê°€ìš”ê¸ˆ, ì›” ë‚©ë¶€ê¸ˆ, í˜„ê¸ˆê°€, ì…ê¸ˆê³„ì¢Œ ë“±.
    - ì´ˆê¸° ìƒíƒœ:
      - `status: 'ê°œí†µëŒ€ê¸°'`
  - API:
    - `directStoreApiClient.createSalesReport(saveData)`
  - ì„±ê³µ ì‹œ:
    - ì•Œë¦¼ í›„ `onBack()` í˜¸ì¶œ â†’ ëª¨ë“œë¡œ ëŒì•„ê°€ë„ë¡ êµ¬ì„±.

---

## 6. ì¶”ê°€ë¡œ ë³´ë©´ ì¢‹ì€ íŒŒì¼

- `DirectStoreMode.js` : ì§ì˜ì  ëª¨ë“œ ì „ì²´ êµ¬ì¡°/ì¸ì¦/íƒ­ ë¡œì§
- `DirectStoreManagementMode.js` : ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ ê¶Œí•œ/íƒ­/ë ˆì´ì•„ì›ƒ ë¡œì§
- `modeConfig.js` : ëª¨ë“œë³„ ë©”íƒ€ ì •ë³´/ì•„ì´ì½˜/ìƒ‰ìƒ/ê¶Œí•œ ì‹œíŠ¸ ë§¤í•‘
- `DirectSalesReportTab.js` : íŒë§¤ì¼ë³´ ë¡œì§ (ë‘ ëª¨ë“œê°€ ëª¨ë‘ ê³µìœ )
- `OpeningInfoPage.js` : ê°œí†µì •ë³´ ì…ë ¥/ìƒì„¸ í™”ë©´
- `MobileListTab.js` / `MobileListRow.js` : íœ´ëŒ€í° ëª©ë¡ ë°ì´í„°/í–‰ ë Œë”ë§/ê°€ê²© ê³„ì‚° ë¡œì§
- `TodaysMobileTab.js` / `TodaysProductCard.js` : ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° ë°ì´í„°/ìŠ¬ë¼ì´ë“œì‡¼/ì¹´ë“œë³„ ê°€ê²© ë¡œë”© ë¡œì§


ï»¿

## 7. ì§ì˜ì  ê´€ë ¨ êµ¬ê¸€ ì‹œíŠ¸ êµ¬ì¡° & ì»¬ëŸ¼ ë§¤í•‘

ì§ì˜ì  ëª¨ë“œ/ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” **êµ¬ê¸€ ì‹œíŠ¸ êµ¬ì¡°**ë¥¼ ì •ë¦¬í•´ë‘ë©´,  
ë¦¬íŒ©í† ë§ ì‹œ ì–´ë””ë¥¼ ê±´ë“œë ¤ì•¼ í•˜ëŠ”ì§€ í•œëˆˆì— ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 7-1. ê¶Œí•œ/ì ‘ì† ê´€ë ¨ ì‹œíŠ¸

- **ì‹œíŠ¸ëª…**: `ëŒ€ë¦¬ì ì•„ì´ë””ê´€ë¦¬`
  - **ì—­í• **: ê´€ë¦¬ì/ëª¨ë“œ ê¶Œí•œ, íŠ¹íˆ **ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ ê¶Œí•œ(M/S/O)** ì„ ê´€ë¦¬.
  - **ì£¼ìš” ì»¬ëŸ¼ (ì¸ë±ìŠ¤ ê¸°ì¤€, 0ë¶€í„° ì‹œì‘)**:
    - `agent[0]` (Aì—´): ë‹´ë‹¹ì/ëŒ€ìƒ ì´ë¦„
    - `agent[1]` (Bì—´): ìê²©/ì—­í• 
    - `agent[2]` (Cì—´): ID
    - `agent[7]` (Hì—´) ì´í›„: ì—¬ëŸ¬ ëª¨ë“œ ê¶Œí•œ ì—´ (ì¬ê³ , ì •ì‚°, ê²€ìˆ˜ ë“±)  
      â†’ `MODE_CONFIG` ì˜ `sheetRefs.admin` ì£¼ì„ì´ ê° ëª¨ë“œë³„ ì—´ ìœ„ì¹˜ë¥¼ ì„¤ëª….
    - `agent[30]` (AEì—´): **ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ ê¶Œí•œ**  
      - ê°’: `'M' | 'S' | 'O' | ''`  
      - ì„œë²„(`server/index.js`)ì—ì„œ:
        - `directStoreManagementPermissionRaw = (agent[30] || '').toString().trim().toUpperCase();`
        - `M/S/O` ì¸ ê²½ìš°ì—ë§Œ `loggedInStore.modePermissions.directStoreManagement` ë¡œ ë…¸ì¶œ.
  - **ë°ì´í„° íë¦„**
    - ë¡œê·¸ì¸ ì‹œ:
      - ì„œë²„ê°€ `ëŒ€ë¦¬ì ì•„ì´ë””ê´€ë¦¬` ì „ì²´ë¥¼ ì½ì–´ ê° í–‰ì„ ì‚¬ìš©ì ê³„ì •ìœ¼ë¡œ íŒŒì‹±.
      - ì—´ë³„ ê¶Œí•œ í”Œë˜ê·¸ë¥¼ `loggedInStore.modePermissions`ì— ë§¤í•‘.
    - í´ë¼ì´ì–¸íŠ¸:
      - `ModeSelector` / `modeConfig` / `DirectStoreManagementMode` ì—ì„œ  
        `loggedInStore.modePermissions.directStoreManagement` ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ  
        **ì ‘ì† ê°€ëŠ¥ ì—¬ë¶€ + íƒ­ë³„ ê¶Œí•œ(hasPolicy/hasLink/hasSalesReport)** ì„ ê²°ì •.

- **ì‹œíŠ¸ëª…**: `ì¼ë°˜ëª¨ë“œê¶Œí•œê´€ë¦¬`
  - **ì—­í• **: ì¼ë°˜ ëª¨ë“œ(ì§ì˜ì  ëª¨ë“œ í¬í•¨)ì˜ ê¶Œí•œ ë° **ì§ì˜ì  ëª¨ë“œ ë¹„ë°€ë²ˆí˜¸** ê´€ë¦¬.
  - **ì£¼ìš” ì»¬ëŸ¼ (ì¸ë±ìŠ¤ ê¸°ì¤€)** (`server/index.js` ê¸°ì¤€):
    - `general[0]` (Aì—´): ì‚¬ìš©ì ID/ì‹ë³„ì
    - `general[1]..` : ê¸°íƒ€ ì‚¬ìš©ì ì •ë³´
    - `general[6]` (Gì—´): **ì§ì˜ì  ëª¨ë“œ ê¶Œí•œ**
      - ê°’: `'O'` ë˜ëŠ” `'M/S'` ë“± (ì‹¤ì œ ì‚¬ìš©ì€ `'O'`/`true` ì¤‘ì‹¬)
      - ì„œë²„ì—ì„œ `hasDirectStoreMode` í”Œë˜ê·¸ë¡œ ë³€í™˜ í›„ `loggedInStore.modePermissions.directStore` ë¡œ ë…¸ì¶œ.
    - `general[7]` (Hì—´): **ì§ì˜ì  ëª¨ë“œ ë¹„ë°€ë²ˆí˜¸**
  - **ë°ì´í„° íë¦„**
    - ë¡œê·¸ì¸ ì‹œ:
      - ê´€ë¦¬ìê°€ ì•„ë‹Œ ê³„ì •ì€ `ì¼ë°˜ëª¨ë“œê¶Œí•œê´€ë¦¬` ì‹œíŠ¸ì—ì„œ í•œ ë²ˆ ë” ê²€ìƒ‰.
      - `Gì—´` ê°’ì„ ë³´ê³  `loggedInStore.modePermissions.directStore` ë¥¼ ì…‹ì—….
      - `Hì—´` ë¹„ë°€ë²ˆí˜¸ë¥¼ `loggedInStore.directStoreSecurity.password`/`requiresPassword` ë“±ì— ë°˜ì˜.
    - ë¹„ë°€ë²ˆí˜¸ ê²€ì¦:
      - `/api/verify-direct-store-password` ì—ì„œ  
        `ì¼ë°˜ëª¨ë“œê¶Œí•œê´€ë¦¬!A:H` ë²”ìœ„ë¥¼ ì½ì–´,  
        í•´ë‹¹ ì‚¬ìš©ì í–‰ì˜ **Hì—´ ê°’ê³¼ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¹„êµ**.

- **ì‹œíŠ¸ëª…**: `ì–´í”Œì—…ë°ì´íŠ¸`
  - **ì—­í• **: ëª¨ë“œë³„ ì—…ë°ì´íŠ¸ ë¡œê·¸(ë³€ê²½ ì´ë ¥)ë¥¼ ì €ì¥. ì§ì˜ì /ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œë„ ë³„ë„ ì—´ë¡œ ì¡´ì¬.
  - **êµ¬ì¡° ìš”ì•½**
    - ë²”ìœ„: `ì–´í”Œì—…ë°ì´íŠ¸!A:Y` (A~Yì—´, `server/index.js` ì°¸ê³ )
    - ê¸°ë³¸ ê·œì¹™:
      - `Aì—´`: ë‚ ì§œ
      - `Cì—´`~`Yì—´`: ëª¨ë“œë³„ ì—…ë°ì´íŠ¸ ë‚´ìš© (ê° ëª¨ë“œ í•œ ì—´ì”©)
    - `modeColumnMap` (`server/index.js`) ì¤‘ ì§ì˜ì  ê´€ë ¨:
      - `directStoreManagement`: **Wì—´(22)** â€” ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ ì—…ë°ì´íŠ¸
      - `directStore`: **Xì—´(23)** â€” ì§ì˜ì  ëª¨ë“œ ì—…ë°ì´íŠ¸
  - **ë°ì´í„° íë¦„**
    - ì¡°íšŒ:
      - `/api/app-updates` â†’ `ì–´í”Œì—…ë°ì´íŠ¸` ì „ì²´ë¥¼ ê°€ì ¸ì™€  
        í”„ë¡ íŠ¸ì˜ `AppUpdatePopup` ì—ì„œ ëª¨ë“œë³„ë¡œ í•„í„°ë§í•´ ì‚¬ìš©.
    - ì¶”ê°€:
      - `/api/app-updates` `POST` í˜¸ì¶œ ì‹œ:
        - `modeColumnMap[mode]`ë¡œ ì—´ ì¸ë±ìŠ¤ë¥¼ ì°¾ê³ ,
        - `Aì—´=ë‚ ì§œ`, í•´ë‹¹ ëª¨ë“œ ì—´ì— `content` ë¥¼ ì±„ì›Œ í•œ í–‰ append.
    - í´ë¼ì´ì–¸íŠ¸:
      - ì§ì˜ì  ëª¨ë“œ/ê´€ë¦¬ ëª¨ë“œì˜ ì—…ë°ì´íŠ¸ íŒì—…ì—ì„œ  
        `mode="directStore" | "directStoreManagement"` ë¡œ í˜¸ì¶œí•˜ì—¬  
        ê°ê° X/Wì—´ ë‚´ìš©ì„ ë³´ì—¬ì¤Œ.

---

### 7-2. ì§ì˜ì  ì •ì±…/ì„¤ì • ê´€ë ¨ ì‹œíŠ¸

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ì •ì±…_ë§ˆì§„` (`SHEET_POLICY_MARGIN`)
  - **í—¤ë” (HEADERS_POLICY_MARGIN)**:
    - Aì—´: `í†µì‹ ì‚¬`
    - Bì—´: `ë§ˆì§„`
  - **ë°ì´í„° íë¦„**
    - `getPolicySettings(carrier)` / `/api/direct/policy-settings` ì—ì„œ:
      - í•´ë‹¹ `carrier` í–‰ì„ ì°¾ì•„ `baseMargin` ì„ ê³„ì‚°.
    - í´ë¼ì´ì–¸íŠ¸:
      - `OpeningInfoPage` ì˜ ê¸ˆì•¡ ê³„ì‚° ì—”ì§„ì—ì„œ  
        ì§ì ‘ ì½ì§€ëŠ” ì•Šì§€ë§Œ, **ëŒ€ë¦¬ì  ë§ˆì§„ ì •ì±…ì˜ ë² ì´ìŠ¤ ê°’**ìœ¼ë¡œ ì‚¬ìš©ë¨.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ì •ì±…_ë¶€ê°€ì„œë¹„ìŠ¤` (`SHEET_POLICY_ADDON`)
  - **í—¤ë” (HEADERS_POLICY_ADDON)**:
    - Aì—´: `í†µì‹ ì‚¬`
    - Bì—´: `ì„œë¹„ìŠ¤ëª…`
    - Cì—´: `ì›”ìš”ê¸ˆ`
    - Dì—´: `ìœ ì¹˜ì¶”ê°€ê¸ˆì•¡` (ë¶€ê°€ ìœ ì¹˜ ì‹œ ì¶”ê°€ ì§€ì›)
    - Eì—´: `ë¯¸ìœ ì¹˜ì°¨ê°ê¸ˆì•¡` (ë¯¸ìœ ì¹˜ ì‹œ ì°¨ê°, ë‚´ë¶€ì—ì„œëŠ” ìŒìˆ˜ë¡œ ë³€í™˜)
  - **ë°ì´í„° íë¦„**
    - ì„œë²„ ì •ì±… ë¡œë”©:
      - `getPolicySettings` / `/api/direct/policy-settings` ì—ì„œ:
        - `carrier` ê°€ ì¼ì¹˜í•˜ëŠ” í–‰ë§Œ í•„í„°.
        - ê° í–‰ì„ `{ name, fee, incentive, deduction }` êµ¬ì¡°ë¡œ ë³€í™˜:
          - `incentive = Dì—´`, `deduction = Eì—´(ìŒìˆ˜ ì²˜ë¦¬)`.
      - ì´ ê°’ë“¤ì€:
        - `OpeningInfoPage` ì˜ í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤ / ë¶€ê°€ìœ ì¹˜ ì¸ì„¼í‹°ë¸Œ ê³„ì‚°ì— ì‚¬ìš©.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ì •ì±…_ë³´í—˜ìƒí’ˆ` (`SHEET_POLICY_INSURANCE`)
  - **í—¤ë” (HEADERS_POLICY_INSURANCE)**:
    - Aì—´: `í†µì‹ ì‚¬`
    - Bì—´: `ë³´í—˜ìƒí’ˆëª…`
    - Cì—´: `ì¶œê³ ê°€ìµœì†Œ`
    - Dì—´: `ì¶œê³ ê°€ìµœëŒ€`
    - Eì—´: `ì›”ìš”ê¸ˆ`
    - Fì—´: `ìœ ì¹˜ì¶”ê°€ê¸ˆì•¡`
    - Gì—´: `ë¯¸ìœ ì¹˜ì°¨ê°ê¸ˆì•¡`
  - **ë°ì´í„° íë¦„**
    - ì •ì±… ì½ê¸°:
      - `/api/direct/policy-settings` ì—ì„œ `carrier` í•„í„° í›„,
        `{ name, minPrice, maxPrice, fee, incentive, deduction }` êµ¬ì¡°ë¡œ ìƒì„±.
    - ê°œí†µì •ë³´ í˜ì´ì§€:
      - `OpeningInfoPage` â†’ `directStoreApi.getPolicySettings` ë¥¼ í†µí•´ ê°€ì ¸ì˜¨ í›„,
        í˜„ì¬ ë‹¨ë§ `factoryPrice` ê°€ `[minPrice, maxPrice]` ë²”ìœ„ì— ë“¤ì–´ê°€ëŠ” ë³´í—˜ìƒí’ˆì„ 1ê°œ ì„ íƒ:
        - í•„ìˆ˜ ë¶€ê°€ì„œë¹„ìŠ¤ ë¦¬ìŠ¤íŠ¸ì— ë³´í—˜ í•­ëª©ìœ¼ë¡œ ì¶”ê°€.
        - `incentive > 0` ì¸ ê²½ìš°, `insuranceIncentiveList` ì—ë„ ë°˜ì˜.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ì •ì±…_ë³„ë„` (`SHEET_POLICY_SPECIAL`)
  - **í—¤ë” (HEADERS_POLICY_SPECIAL)**:
    - Aì—´: `í†µì‹ ì‚¬`
    - Bì—´: `ì •ì±…ëª…`
    - Cì—´: `ì¶”ê°€ê¸ˆì•¡`
    - Dì—´: `ì°¨ê°ê¸ˆì•¡`
    - Eì—´: `ì ìš©ì—¬ë¶€` (boolean)
  - **ë°ì´í„° íë¦„**
    - `getPolicySettings` ì—ì„œ:
      - `carrier` ì¼ì¹˜ + `Eì—´ === true` ì¸ í–‰ë§Œ í•„í„°í•´  
        `{ addition: Cì—´, deduction: Dì—´ }` ë¦¬ìŠ¤íŠ¸ ìƒì„±.
    - ì´ ê°’ë“¤ì€:
      - ë‹¨ë§/ìš”ê¸ˆì œ ì¡°í•©ì— ë”°ë¥¸ **ë³„ë„ ì •ì±… ê¸ˆì•¡(ì¶”ê°€/ì°¨ê°)** ìœ¼ë¡œ í•©ì‚°ë˜ì–´  
        ìµœì¢… ë§ˆì§„/ì§€ì›ê¸ˆ ê³„ì‚°ì— ë°˜ì˜.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ì„¤ì •` (`SHEET_SETTINGS`)
  - **í—¤ë” (HEADERS_SETTINGS)**:
    - Aì—´: `í†µì‹ ì‚¬` (`SK/KT/LG`)
    - Bì—´: `ì„¤ì •ìœ í˜•` (`planGroup` | `support` | `policy`)
    - Cì—´: `ì‹œíŠ¸ID` (ë˜ëŠ” ë§í¬)
    - Dì—´: `ì‹œíŠ¸URL` (í˜„ì¬ëŠ” ë¹„ì›Œë‘ëŠ” ê²½ìš° ë§ìŒ)
    - Eì—´: `ì„¤ì •ê°’JSON` (ê° ì„¤ì •ìœ í˜•ë§ˆë‹¤ êµ¬ì¡°ê°€ ë‹¤ë¥¸ JSON)
  - **ì„¤ì •ìœ í˜•ë³„ JSON êµ¬ì¡°**
    - `planGroup` (ìš”ê¸ˆì œêµ° ì •ë³´; `MobileListTab`/`OpeningInfoPage` ì—ì„œ ì‚¬ìš©):
      - `planNameRange`: ìš”ê¸ˆì œëª… ë²”ìœ„
      - `planGroupRange`: ìš”ê¸ˆì œêµ° ë²”ìœ„
      - `basicFeeRange`: ê¸°ë³¸ë£Œ ë²”ìœ„
      - `planGroups`: ì¶”ì¶œëœ ìš”ê¸ˆì œêµ° ëª©ë¡ (ì„ íƒì§€ ìºì‹± ìš©ë„)
    - `support` (ì´í†µì‚¬ ì§€ì›ê¸ˆ/ì •ì±…í‘œ; `getMobileList` ì—ì„œ ì‚¬ìš©):
      - `modelRange`: ëª¨ë¸ëª… ë²”ìœ„
      - `petNameRange`: í«ë„¤ì„ ë²”ìœ„
      - `factoryPriceRange`: ì¶œê³ ê°€ ë²”ìœ„
      - `openingTypeRange`: ê°œí†µìœ í˜• ë²”ìœ„
      - `planGroupRanges`: ìš”ê¸ˆì œêµ°ë³„ ì§€ì›ê¸ˆ ë²”ìœ„ ë§µ
    - `policy` (ì •ì±…í‘œ; `getMobileList` ì—ì„œ ëª¨ë¸/í«ë„¤ì„ì„ ì½ì„ ì›ë³¸ ì‹œíŠ¸ ì •ì˜):
      - `modelRange`, `petNameRange`
      - `planGroupRanges`: ì •ì±…í‘œ ê¸°ì¤€ ìš”ê¸ˆì œêµ° ì •ì˜
  - **ë°ì´í„° íë¦„**
    - ì €ì¥ (`POST /api/direct/link-settings`):
      - ëª¨ë“œ ì„¤ì • UI(`LinkSettingsTab`)ì—ì„œ ì…ë ¥í•œ ì‹œíŠ¸ID ë° ë²”ìœ„ë¥¼  
        JSON ìœ¼ë¡œ í¬ì¥í•´ `ì§ì˜ì _ì„¤ì •` A~Eì—´ì— í•œ ì¤„ì”© ì €ì¥.
      - `planGroup` ì„¤ì •ì€ í•„ìš” ì‹œ `planGroupRange` ë²”ìœ„ì—ì„œ  
        ìš”ê¸ˆì œêµ°ì„ ìë™ ì¶”ì¶œí•˜ì—¬ `planGroups` ì— ì±„ì›Œ ë„£ìŒ.
    - ì½ê¸°:
      - `getMobileList`:
        - `carrier + 'policy'` í–‰ì—ì„œ ì •ì±…í‘œ ì‹œíŠ¸IDì™€ `modelRange/petNameRange` ë¥¼ ì½ì–´  
          **ë‹¨ë§ ëª©ë¡ì˜ ì›ë³¸ ì‹œíŠ¸ + ë²”ìœ„** ë¥¼ ê²°ì •.
        - ê°™ì€ `ì„¤ì •ìœ í˜•='support'` í–‰ì—ì„œ **ì´í†µì‚¬ ì§€ì›ê¸ˆ/ì •ì±…í‘œ** ë²”ìœ„ë¥¼ ì½ì–´  
          ê°€ê²© ê³„ì‚°ìš© ë°ì´í„°ë¥¼ êµ¬ì„±.
      - `OpeningInfoPage`:
        - `linkSettings.planGroup` ë‚´ `planNameRange/planGroupRange/basicFeeRange` ë¡œ  
          ì‹¤ì œ ìš”ê¸ˆì œëª…/ìš”ê¸ˆì œêµ°/ê¸°ë³¸ë£Œë¥¼ êµ¬ê¸€ì‹œíŠ¸ì—ì„œ ë‹¤ì‹œ ì½ì–´ì˜¨ ë’¤,  
          ìë™ìœ¼ë¡œ Autocomplete ì˜µì…˜ì„ êµ¬ì„±.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ë©”ì¸í˜ì´ì§€ë¬¸êµ¬` (`SHEET_MAIN_PAGE_TEXTS`)
  - **í—¤ë” (HEADERS_MAIN_PAGE_TEXTS)**:
    - Aì—´: `í†µì‹ ì‚¬` (`SK/KT/LG` ë˜ëŠ” ê³µí†µ)
    - Bì—´: `ì¹´í…Œê³ ë¦¬` (`premium` / `budget` / `common` ë“±)
    - Cì—´: `ì„¤ì •ìœ í˜•` (`mainHeader` / `transition` / ê¸°íƒ€)
    - Dì—´: `ë¬¸êµ¬ë‚´ìš©`
    - Eì—´: `ì´ë¯¸ì§€URL`
    - Fì—´: `ìˆ˜ì •ì¼ì‹œ`
  - **ë°ì´í„° íë¦„**
    - ì¡°íšŒ (`GET /api/direct/main-page-texts`):
      - `directStoreApiClient.getMainHeaderText`:
        - ì‘ë‹µ ì¤‘ `data.mainHeader` ë¥¼ êº¼ë‚´ `TodaysMobileTab` ì˜ ìƒë‹¨ ë¬¸êµ¬ë¡œ ì‚¬ìš©.
      - `directStoreApiClient.getTransitionPageText(carrier, category)`:
        - `transitionPages[carrier][category]` ë¥¼ êº¼ë‚´ ìŠ¬ë¼ì´ë“œì‡¼ì˜ ì—°ê²°í˜ì´ì§€ ë¬¸êµ¬Â·ì´ë¯¸ì§€ë¡œ ì‚¬ìš©.
    - ì €ì¥ (`POST /api/direct/main-page-texts`):
      - `MainPageTextSettingsTab` ì—ì„œ carrier/category/textType ë³„ë¡œ  
        ë¬¸êµ¬/ì´ë¯¸ì§€ URLì„ ì‘ì„±í•˜ë©´, í•œ í–‰ì”© `ì§ì˜ì _ë©”ì¸í˜ì´ì§€ë¬¸êµ¬`ì— ê¸°ë¡.

---

### 7-3. ì§ì˜ì  ìƒí’ˆ/íƒœê·¸/ì´ë¯¸ì§€/íŒë§¤ì¼ë³´ ì‹œíŠ¸

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€`
  - **ì»¬ëŸ¼ êµ¬ì¡° (ì£¼ì„ ê¸°ì¤€)**:
    - Aì—´: `í†µì‹ ì‚¬`
    - Bì—´: `ëª¨ë¸ID` (ì‹¤ì œ ëª¨ë¸ ì½”ë“œ)
    - Cì—´: `ëª¨ë¸ëª…`
    - Dì—´: `í«ë„¤ì„`
    - Eì—´: `ì œì¡°ì‚¬`
    - Fì—´: `ì´ë¯¸ì§€URL`
    - Gì—´: `ë¹„ê³ `
  - **ë°ì´í„° íë¦„**
    - `getMobileList` (`server/directRoutes.js`):
      - `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€!A:G` ë¥¼ ì½ì–´,  
        `(í†µì‹ ì‚¬+ëª¨ë¸ì½”ë“œ)` ê¸°ì¤€ìœ¼ë¡œ `imageMap` ì„ êµ¬ì„±.
      - ê° ë‹¨ë§ rowì— ë§¤ì¹­ë˜ëŠ” ì´ë¯¸ì§€ URLì„ ë¶™ì—¬  
        `MobileListTab` ì˜ `row.image` ë¡œ ë‚´ë ¤ì¤Œ.
    - ì´ë¯¸ì§€ ì—…ë¡œë“œ (`/api/direct/upload-image`):
      - ì§ì˜ì  ëª¨ë“œì—ì„œ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ URLì„  
        í•´ë‹¹ ëª¨ë¸/í†µì‹ ì‚¬ í–‰ì˜ `Fì—´` ì— ì €ì¥í•˜ê±°ë‚˜ ìƒˆ í–‰ ì¶”ê°€.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°`
  - **ì»¬ëŸ¼ ì‚¬ìš© (íƒœê·¸ ë¶€ë¶„, ì£¼ì„ ê¸°ì¤€)**:
    - Aì—´: `ëª¨ë¸ëª…` (ë§¤ì¹­ í‚¤)
    - ...
    - Jì—´ (index 9): `isPopular` (`Y/TRUE`)
    - Kì—´ (10): `isRecommended`
    - Lì—´ (11): `isCheap`
    - Mì—´ (12): `isPremium`
    - Nì—´ (13): `isBudget`
  - **ë°ì´í„° íë¦„**
    - ì½ê¸°:
      - `getMobileList` ì—ì„œ `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°!A:Z` ë¡œ ì „ì²´ ë¡œë“œ í›„,
        `tagMap` ì„ `{ model -> íƒœê·¸ë“¤ }` êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ `mobileList` ê° í–‰ì— ë³‘í•©.
      - `getTodaysMobiles` (`/api/direct/todays-mobiles`) ëŠ”  
        ì´ íƒœê·¸ ì •ë³´ì™€ ì •ì±…/ì§€ì›ê¸ˆ ë°ì´í„°ë¥¼ ì¡°í•©í•´  
        `premium`/`budget` ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ `TodaysMobileTab` ìœ¼ë¡œ ë‚´ë ¤ì¤Œ.
    - ì“°ê¸°:
      - `updateMobileTags` (`PUT /api/direct/mobiles/:modelId/tags`) í˜¸ì¶œ ì‹œ:
        - ë¨¼ì € `ì§ì˜ì _ì„¤ì •`ì—ì„œ í•´ë‹¹ carrier ì˜ policy/support ì„¤ì •ì„ ë¡œë”©.
        - ì´í›„ `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°!A:Z` ì—ì„œ í•´ë‹¹ ëª¨ë¸ í–‰ì„ ì°¾ê³ ,  
          J~Nì—´ì˜ íƒœê·¸ ì»¬ëŸ¼ì„ `Y/TRUE` ë˜ëŠ” ë¹ˆ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸.

- **ì‹œíŠ¸ëª…**: `ì§ì˜ì _íŒë§¤ì¼ë³´`
  - **í—¤ë” (DIRECT_SALES_HEADERS, A~Z)**:
    1. Aì—´: `ë²ˆí˜¸` (ë‚´ë¶€ ID, `sales-{timestamp}` ë“±)
    2. Bì—´: `POSì½”ë“œ`
    3. Cì—´: `ì—…ì²´ëª…`
    4. Dì—´: `ë§¤ì¥ID`
    5. Eì—´: `íŒë§¤ì¼ì‹œ`
    6. Fì—´: `ê³ ê°ëª…`
    7. Gì—´: `CTN` (ì—°ë½ì²˜)
    8. Hì—´: `í†µì‹ ì‚¬`
    9. Iì—´: `ë‹¨ë§ê¸°ëª¨ë¸ëª…`
    10. Jì—´: `ìƒ‰ìƒ`
    11. Kì—´: `ë‹¨ë§ì¼ë ¨ë²ˆí˜¸`
    12. Lì—´: `ìœ ì‹¬ëª¨ë¸ëª…`
    13. Mì—´: `ìœ ì‹¬ì¼ë ¨ë²ˆí˜¸`
    14. Nì—´: `ê°œí†µìœ í˜•` (ì‹ ê·œ/ë²ˆí˜¸ì´ë™/ê¸°ê¸°ë³€ê²½ ë“± í•œê¸€)
    15. Oì—´: `ì „í†µì‹ ì‚¬`
    16. Pì—´: `í• ë¶€êµ¬ë¶„` (í• ë¶€/í˜„ê¸ˆ)
    17. Qì—´: `í• ë¶€ê°œì›”`
    18. Rì—´: `ì•½ì •`
    19. Sì—´: `ìš”ê¸ˆì œ`
    20. Tì—´: `ë¶€ê°€ì„œë¹„ìŠ¤` (CSV ë¬¸ìì—´)
    21. Uì—´: `ì¶œê³ ê°€`
    22. Vì—´: `ì´í†µì‚¬ì§€ì›ê¸ˆ`
    23. Wì—´: `ëŒ€ë¦¬ì ì¶”ê°€ì§€ì›ê¸ˆ(ë¶€ê°€ìœ ì¹˜)`
    24. Xì—´: `ëŒ€ë¦¬ì ì¶”ê°€ì§€ì›ê¸ˆ(ë¶€ê°€ë¯¸ìœ ì¹˜)`
    25. Yì—´: `ë§ˆì§„`
    26. Zì—´: `ìƒíƒœ` (ê°œí†µëŒ€ê¸°/ì™„ë£Œ ë“±)
  - **ë°ì´í„° íë¦„**
    - ì¡°íšŒ (`GET /api/direct/sales`):
      - í—¤ë”ë¥¼ í•­ìƒ `DIRECT_SALES_HEADERS`ë¡œ ë³´ì • í›„,  
        A:Z ì „ì²´ë¥¼ ì½ì–´ `DirectSalesReportTab` ì—ì„œ ì“°ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë§¤í•‘.
      - ê° ì—´ì€ JS ê°ì²´ì˜ ë‹¤êµ­ì–´ í‚¤(í•œêµ­ì–´/ì˜ë¬¸)ë¡œ ë™ì‹œì— ë…¸ì¶œ.
    - ìƒì„± (`POST /api/direct/sales` â†’ `directStoreApiClient.createSalesReport`):
      - `OpeningInfoPage` ì˜ `handleComplete` ê°€ ë§Œë“  `saveData`ë¥¼ ë°”íƒ•ìœ¼ë¡œ  
        í•œ í–‰ì˜ ë°°ì—´ì„ ë§Œë“¤ì–´ A~Zì—´ì— append.
      - ê°œí†µìœ í˜•ì€ `NEW/MNP/CHANGE` ë¥¼ í•œê¸€(ì‹ ê·œ/ë²ˆí˜¸ì´ë™/ê¸°ê¸°ë³€ê²½)ìœ¼ë¡œ ë³€í™˜í•´ Nì—´ì— ì €ì¥.
    - ìˆ˜ì • (`PUT /api/direct/sales/:id`):
      - Aì—´ì˜ `ë²ˆí˜¸` ê°’ìœ¼ë¡œ í–‰ì„ ì°¾ì•„, ë‚˜ë¨¸ì§€ ì—´ì„ ë®ì–´ì“°ëŠ” ë°©ì‹ìœ¼ë¡œ ì—…ë°ì´íŠ¸.

---

ì´ ì„¹ì…˜ì„ ê¸°ì¤€ìœ¼ë¡œ, ì´í›„ ë¦¬íŒ©í† ë§ ì‹œ  
**â€œì–´ë–¤ ì‹œíŠ¸/ì–´ë–¤ ì—´ì´ ì–´ëŠ í™”ë©´/ë¡œì§ê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€â€** ë¥¼ ë¹ ë¥´ê²Œ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## 8. ì§ì˜ì  ë°ì´í„° ë¦¬íŒ©í† ë§ í”Œëœ (ë§ˆìŠ¤í„° ì‹œíŠ¸ ê¸°ë°˜)

ì´ ì„¹ì…˜ì€ ìƒˆë¡œ ë§Œë“  ì„¸ ê°œì˜ ë§ˆìŠ¤í„° ì‹œíŠ¸:

- `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`
- `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…`
- `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`

ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **íœ´ëŒ€í°ëª©ë¡ / ì˜¤ëŠ˜ì˜íœ´ëŒ€í° / ê°œí†µì •ë³´ì…ë ¥**ì˜ ë°ì´í„° íë¦„ì„ ì¬êµ¬ì„±í•˜ëŠ” êµ¬ì²´ì ì¸ ë¦¬íŒ©í† ë§ í”Œëœì´ë‹¤.

---

### 8-0. ì§„í–‰ ìƒíƒœ ìš”ì•½ (ë§ˆìŠ¤í„°/ETL/API)

- **ìš”ê¸ˆì œ ë§ˆìŠ¤í„° (`ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`)**
  - [x] ì‹œíŠ¸ ìƒì„± ë° í—¤ë” ì •ë¦¬
  - [x] ETL êµ¬í˜„ (`rebuildPlanMaster`) ë° ì“°ê¸° ë¡œì§
  - [x] `POST /api/direct/plans-master/rebuild` (ìˆ˜ë™ ì¬ë¹Œë“œ)
  - [x] ë§í¬ì„¤ì • ì €ì¥ ì‹œ í†µì‹ ì‚¬ë³„ ìë™ ì¬ë¹Œë“œ
  - [x] `GET /api/direct/plans-master` ì¡°íšŒ API (ìš´ì˜ ì¤‘)
- **ë‹¨ë§ ë§ˆìŠ¤í„° (`ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`)**
  - [x] ì‹œíŠ¸ ìƒì„± ë° í—¤ë” ì •ì˜ (`HEADERS_MOBILE_MASTER`)
  - [x] `GET /api/direct/mobiles-master` ì¡°íšŒ API (ë°±ì—”ë“œ êµ¬í˜„ ì™„ë£Œ, í”„ë¡ íŠ¸ ë¯¸ì—°ë™)
  - [ ] ETL êµ¬í˜„ (`rebuildMobileMaster`) ë° ì‹œíŠ¸ ì“°ê¸°
- **ë‹¨ë§ ìš”ê¸ˆ/ì •ì±… ë§ˆìŠ¤í„° (`ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…`)**
  - [x] ì‹œíŠ¸ ìƒì„± ë° í—¤ë” ì •ì˜ (`HEADERS_MOBILE_PRICING`)
  - [x] `GET /api/direct/mobiles-pricing` ì¡°íšŒ API (ë°±ì—”ë“œ êµ¬í˜„ ì™„ë£Œ, í”„ë¡ íŠ¸ ë¯¸ì—°ë™)
  - [ ] ETL êµ¬í˜„ (`rebuildMobilePricing`) ë° ì‹œíŠ¸ ì“°ê¸°
- **ETL íŠ¸ë¦¬ê±° / í”„ë¡ íŠ¸ ì—°ë™**
  - [ ] `POST /api/direct/rebuild-master?carrier=...` (ìš”ê¸ˆì œ â†’ ë‹¨ë§ â†’ ë‹¨ë§ìš”ê¸ˆì •ì±… ì¼ê´„ ì¬ë¹Œë“œ)
  - [ ] `MobileListTab` / `TodaysMobileTab` / `OpeningInfoPage` ì˜ ë§ˆìŠ¤í„° ê¸°ë°˜ ë°ì´í„° ì†ŒìŠ¤ ì „í™˜

---

### 8-1. ëª©í‘œ ì•„í‚¤í…ì²˜ ìš”ì•½

- **í˜„ì¬**:
  - ëŸ°íƒ€ì„ë§ˆë‹¤ `ì§ì˜ì _ì„¤ì •` â†’ ê°œë³„ ì •ì±…/ì§€ì›ê¸ˆ ì‹œíŠ¸(ì •ì±…í‘œ, ì§€ì›ê¸ˆí‘œ, ì˜¤ëŠ˜ì˜íœ´ëŒ€í°, ëª¨ë¸ì´ë¯¸ì§€ ë“±)ë¥¼ ì—¬ëŸ¬ ë²ˆ ì½ê³ ,
  - í”„ë¡ íŠ¸ì—ì„œ ê°ì¢… ì¡°í•©/ê³„ì‚°/ìºì‹œë¥¼ ë°˜ë³µ ìˆ˜í–‰.
- **ëª©í‘œ**:
  - **1) ë§í¬ì„¤ì •/ì •ì±…/ì›ë³¸í‘œ â†’ 2) ETL(ì •ê·œí™”/ë³‘í•©) â†’ 3) ë§ˆìŠ¤í„° ì‹œíŠ¸ ë¤í”„** êµ¬ì¡°ë¡œ ì „í™˜.
  - í”„ë¡ íŠ¸ëŠ” **ë§ˆìŠ¤í„° ì‹œíŠ¸ë¥¼ ì½ëŠ” ê°„ë‹¨í•œ API**ë§Œ ì‚¬ìš©í•˜ê³ ,  
    ë³µì¡í•œ ë²”ìœ„/ì‹œíŠ¸ ì¡°í•©ì€ ëª¨ë‘ ì„œë²„ ETLì—ì„œ ì²˜ë¦¬.

---

### 8-2. ETL(ì •ê·œí™”) íŒŒì´í”„ë¼ì¸ ì„¤ê³„

#### 8-2-1. ê³µí†µ ê°œë…

- **ì •ê·œí™” í‚¤(Normalized Key)**:
  - ë‹¨ë§ ìš”ê¸ˆ/ì •ì±… ë ˆë²¨ì—ì„œì˜ ê¸°ë³¸ í‚¤:
    - `í†µì‹ ì‚¬` + `ëª¨ë¸ID(ë˜ëŠ” ëª¨ë¸ëª…)` + `ìš”ê¸ˆì œêµ°` + `ê°œí†µìœ í˜•`
  - ìš”ê¸ˆì œ ë ˆë²¨ì—ì„œëŠ”:
    - `í†µì‹ ì‚¬` + `ìš”ê¸ˆì œì½”ë“œ` (ë˜ëŠ” `ìš”ê¸ˆì œëª… + ìš”ê¸ˆì œêµ°` ì¡°í•©)

- **íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ì‹œì **
  - ì§ì˜ì ê´€ë¦¬ëª¨ë“œì—ì„œ:
    - ê´€ë¦¬ìê°€ â€œë°ì´í„° ì¬ë¹Œë“œâ€ ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ ìˆ˜ë™ ì‹¤í–‰.
  - ë˜ëŠ” ì„œë²„ ë°°ì¹˜(í¬ë¡ )ë¡œ:
    - ìƒˆë²½/ë§¤ì‹œê°„ ë“± ì¼ì • ì£¼ê¸°ë¡œ ì‹¤í–‰.

#### 8-2-2. ë‹¨ê³„ 1 â€“ ìš”ê¸ˆì œ ë§ˆìŠ¤í„° êµ¬ì¶• (`ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`)

- **ì…ë ¥ ì†ŒìŠ¤**
  - `ì§ì˜ì _ì„¤ì •`ì˜ `planGroup` ì„¤ì •:
    - `sheetId`, `planNameRange`, `planGroupRange`, `basicFeeRange`
  - ì‹¤ì œ ìš”ê¸ˆì œ ì‹œíŠ¸ë“¤ (í†µì‹ ì‚¬ë³„ 1ê°œ ì´ìƒ).

- **ETL ì ˆì°¨**
  1. `ì§ì˜ì _ì„¤ì •`ì—ì„œ ê° í†µì‹ ì‚¬ì˜ `planGroup` ì„¤ì • ì½ê¸°.
  2. `fetchRangeData` ë˜ëŠ” Sheets APIë¡œ:
     - `planNameRange` â†’ ìš”ê¸ˆì œëª… ë¦¬ìŠ¤íŠ¸
     - `planGroupRange` â†’ ìš”ê¸ˆì œêµ° ë¦¬ìŠ¤íŠ¸
     - `basicFeeRange` â†’ ê¸°ë³¸ë£Œ ë¦¬ìŠ¤íŠ¸
  3. ì¸ë±ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ë§¤ì¹­í•´, ë‹¤ìŒ êµ¬ì¡°ë¡œ ì •ê·œí™”:
     - `í†µì‹ ì‚¬, ìš”ê¸ˆì œëª…, ìš”ê¸ˆì œêµ°, ê¸°ë³¸ë£Œ, ìš”ê¸ˆì œì½”ë“œ(ì„ íƒ), ì‚¬ìš©ì—¬ë¶€, ë¹„ê³ `
  4. **`ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°` ì „ì²´ë¥¼ êµì²´(write)**
     - ê¸°ì¡´ ë‚´ìš©ì€ ë²„ë¦¬ê³  ìƒˆ ë°ì´í„°ë¡œ A~Gì—´ ì „ì²´ overwrite.

- **í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸**
  - í†µì‹ ì‚¬ë³„ ìš”ê¸ˆì œ ìˆ˜ê°€ ì›ë³¸ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.
  - ëŒ€í‘œ ìš”ê¸ˆì œ í•œë‘ ê°œì˜ `ìš”ê¸ˆì œëª…/ìš”ê¸ˆì œêµ°/ê¸°ë³¸ë£Œ`ê°€ ì›ë³¸ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.

#### 8-2-3. ë‹¨ê³„ 2 â€“ ë‹¨ë§ ë§ˆìŠ¤í„° êµ¬ì¶• (`ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`)

- **ì…ë ¥ ì†ŒìŠ¤**
  - `ì§ì˜ì _ì„¤ì •`ì˜ `policy/support` ì„¤ì •:
    - ì •ì±…í‘œ/ì§€ì›ê¸ˆí‘œ ì‹œíŠ¸ID ë° ëª¨ë¸/í«ë„¤ì„/ì¶œê³ ê°€ ë²”ìœ„ ë“±.
  - ê¸°ì¡´ `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€`:
    - í†µì‹ ì‚¬ë³„ ëª¨ë¸ID/ëª¨ë¸ëª…/í«ë„¤ì„/ì´ë¯¸ì§€.
  - ê¸°ì¡´ `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°`:
    - íƒœê·¸ ì •ë³´ (ì¸ê¸°/ì¶”ì²œ/ì €ë ´/í”„ë¦¬ë¯¸ì—„/ì¤‘ì €ê°€).

- **ETL ì ˆì°¨**
  1. `ì§ì˜ì _ì„¤ì •`ì—ì„œ ê° í†µì‹ ì‚¬ì˜ `policy` ì„¤ì •ì„ ì½ì–´:
     - ì •ì±…í‘œ ì‹œíŠ¸ì—ì„œ `ëª¨ë¸ëª…/í«ë„¤ì„/ì œì¡°ì‚¬/ì¶œê³ ê°€` ë“±ì„ ì½ì–´ì˜´.
  2. `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€`ì—ì„œ:
     - `í†µì‹ ì‚¬, ëª¨ë¸ID, ëª¨ë¸ëª…, í«ë„¤ì„, ì œì¡°ì‚¬, ì´ë¯¸ì§€URL`ì„ `í†µì‹ ì‚¬+ëª¨ë¸ì½”ë“œ` ê¸°ì¤€ìœ¼ë¡œ ë§¤í•‘.
  3. `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°`ì—ì„œ:
     - ëª¨ë¸ëª… ë‹¨ìœ„ë¡œ íƒœê·¸(`isPremium/isBudget/isPopular/isRecommended/isCheap`)ë¥¼ ì •ê·œí™”.
  4. ìœ„ ì„¸ ê°€ì§€ ì†ŒìŠ¤ë¥¼ **ëª¨ë¸ID/ëª¨ë¸ëª… ê¸°ì¤€ìœ¼ë¡œ ë¨¸ì§€**:
     - ì¶©ëŒì‹œ ìš°ì„ ìˆœìœ„:
       1. `ëª¨ë¸ID`ê°€ ëª…ì‹œëœ í–‰
       2. ì •ê·œí™”ëœ ëª¨ë¸ì½”ë“œ(`normalizeModelCode`)ê°€ ì¼ì¹˜í•˜ëŠ” í–‰
       3. ëª¨ë¸ëª… ë‹¨ìˆœ ë¬¸ìì—´ ì¼ì¹˜
  5. ê²°ê³¼ë¥¼ `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ì— ë¤í”„:
     - `í†µì‹ ì‚¬, ëª¨ë¸ID, ëª¨ë¸ëª…, í«ë„¤ì„, ì œì¡°ì‚¬, ì¶œê³ ê°€, ê¸°ë³¸ìš”ê¸ˆì œêµ°, isPremium, isBudget, isPopular, isRecommended, isCheap, ì´ë¯¸ì§€URL, ì‚¬ìš©ì—¬ë¶€, ë¹„ê³ `
     - `ê¸°ë³¸ìš”ê¸ˆì œêµ°`ì€:
       - `isPremium === true` â†’ `115êµ°`
       - `isBudget === true` â†’ `33êµ°`
       - ë‘˜ ë‹¤ ì•„ë‹ˆë©´ ê¸°ë³¸ `115êµ°` (ë˜ëŠ” ì„¤ì •ì— ë”°ë¼ ë³€ê²½ ê°€ëŠ¥).

- **í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸**
  - ê¸°ì¡´ `MobileListTab` ì—ì„œ ë³´ì´ë˜ ëŒ€í‘œ ëª¨ë¸ë“¤ì´ ëª¨ë‘ `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸.
  - ì´ë¯¸ì§€/íƒœê·¸ê°€ ì˜¬ë°”ë¥´ê²Œ ë§¤í•‘ë˜ëŠ”ì§€ ëª¨ë¸ ëª‡ ê°œë¥¼ ìƒ˜í”Œ ê²€ì¦.

#### 8-2-4. ë‹¨ê³„ 3 â€“ ë‹¨ë§ ìš”ê¸ˆ/ì •ì±… ë§ˆìŠ¤í„° êµ¬ì¶• (`ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…`)

- **ì…ë ¥ ì†ŒìŠ¤**
  - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`:
    - ë‹¨ë§ID/ì¶œê³ ê°€/ê¸°ë³¸ìš”ê¸ˆì œêµ°/íƒœê·¸.
  - `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`:
    - ìš”ê¸ˆì œêµ°/ê¸°ë³¸ë£Œ/ìš”ê¸ˆì œì½”ë“œ.
  - `ì§ì˜ì _ì •ì±…_ë§ˆì§„`, `ì§ì˜ì _ì •ì±…_ë¶€ê°€ì„œë¹„ìŠ¤`, `ì§ì˜ì _ì •ì±…_ë³´í—˜ìƒí’ˆ`, `ì§ì˜ì _ì •ì±…_ë³„ë„`:
    - ë§ˆì§„/ë¶€ê°€/ë³´í—˜/ë³„ë„ ì •ì±….
  - ê¸°ì¡´ ì´í†µì‚¬ ì§€ì›ê¸ˆ/ì •ì±…í‘œ ì„¤ì •(`ì§ì˜ì _ì„¤ì •`ì˜ `support/policy`):
    - ëª¨ë¸/ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜•ë³„ ì§€ì›ê¸ˆ ì •ë³´.

- **ETL ì ˆì°¨**
  1. ê° í†µì‹ ì‚¬/ëª¨ë¸ì— ëŒ€í•´ `ì§€ì›ê¸ˆ/ì •ì±…í‘œ`ì—ì„œ:
     - `ìš”ê¸ˆì œêµ° Ã— ê°œí†µìœ í˜•(010ì‹ ê·œ/MNP/ê¸°ë³€)` ì¡°í•©ìœ¼ë¡œ  
       `ì¶œê³ ê°€, ì´í†µì‚¬ì§€ì›ê¸ˆ, ëŒ€ë¦¬ì ì¶”ê°€ì§€ì›ê¸ˆ(ë¶€ê°€/ë¯¸ìœ ì¹˜)`ì„ ê³„ì‚°.
  2. `ì§ì˜ì _ì •ì±…_*` ì‹œíŠ¸ì—ì„œ:
     - í•´ë‹¹ í†µì‹ ì‚¬ì˜ ë§ˆì§„/ë¶€ê°€/ë³´í—˜/ë³„ë„ ì •ì±…ì„ ì½ê³ ,
     - í•„ìš”í•˜ë‹¤ë©´ `ì •ì±…ë§ˆì§„` í•„ë“œë¥¼ ë³„ë„ë¡œ ê³„ì‚°(ë˜ëŠ” 0/ë¯¸ì‚¬ìš©).
  3. `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`ì—ì„œ:
     - `ìš”ê¸ˆì œêµ°` + (í•„ìš” ì‹œ `ìš”ê¸ˆì œì½”ë“œ`) ê¸°ì¤€ìœ¼ë¡œ ì¡°ì¸í•˜ì—¬,  
       ì¶”í›„ UIì—ì„œ ìš”ê¸ˆì œëª…ì„ ì‰½ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ **ìš”ê¸ˆì œì½”ë“œ/êµ°ë§Œ ì €ì¥**.
  4. ìµœì¢… êµ¬ì¡°:
     - `í†µì‹ ì‚¬, ëª¨ë¸ID, ëª¨ë¸ëª…, ìš”ê¸ˆì œêµ°, ìš”ê¸ˆì œì½”ë“œ, ê°œí†µìœ í˜•, ì¶œê³ ê°€, ì´í†µì‚¬ì§€ì›ê¸ˆ, ëŒ€ë¦¬ì ì¶”ê°€ì§€ì›ê¸ˆ_ë¶€ê°€ìœ ì¹˜, ëŒ€ë¦¬ì ì¶”ê°€ì§€ì›ê¸ˆ_ë¶€ê°€ë¯¸ìœ ì¹˜, ì •ì±…ë§ˆì§„, ì •ì±…ID, ê¸°ì¤€ì¼ì, ë¹„ê³ `
  5. ì´ ì‹œíŠ¸ëŠ” â€œì •ì  ë§ˆìŠ¤í„°â€ë¡œ, ëŸ°íƒ€ì„ì—ëŠ” **ì¡°íšŒë§Œ** ìˆ˜í–‰.

- **í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸**
  - ê¸°ì¡´ `calculateMobilePrice` ê²°ê³¼ì™€ ë¹„êµ:
    - ëª‡ ê°œ ëª¨ë¸/ìš”ê¸ˆì œêµ°/ê°œí†µìœ í˜• ì¼€ì´ìŠ¤ë¥¼ ë½‘ì•„,
    - `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…`ì˜ ê°’ê³¼ API ê³„ì‚° ê²°ê³¼ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.

---

### 8-3. ì„œë²„ API ë¦¬íŒ©í† ë§ í”Œëœ

#### 8-3-1. ìƒˆë¡œìš´ ë§ˆìŠ¤í„° ì¡°íšŒ API

- **1) ë‹¨ë§ ë§ˆìŠ¤í„° ì¡°íšŒ** âœ… (ë°±ì—”ë“œ êµ¬í˜„ ì™„ë£Œ, í”„ë¡ íŠ¸ ë¯¸ì—°ë™)
  - `GET /api/direct/mobiles-master?carrier=SK`
  - ì‘ë‹µ:
    - `[{ carrier, modelId, model, petName, manufacturer, factoryPrice, defaultPlanGroup, isPremium, isBudget, isPopular, isRecommended, isCheap, imageUrl, enabled }]`
  - ì‚¬ìš©ì²˜:
    - `MobileListTab`:
      - ê¸°ì¡´ `getMobileList` + ì •ì±…í‘œ/ì´ë¯¸ì§€/íƒœê·¸ ì¡°í•© ëŒ€ì‹  ì´ APIë¡œ êµì²´.
    - `TodaysMobileTab`:
      - í”„ë¦¬ë¯¸ì—„/ì¤‘ì €ê°€ì˜ ê¸°ë³¸ í›„ë³´êµ°ìœ¼ë¡œ ì‚¬ìš©.

- **2) ë‹¨ë§ ìš”ê¸ˆ/ì •ì±… ì¡°íšŒ**
  - `GET /api/direct/mobiles-pricing?carrier=SK&modelId=...&planGroup=115êµ°&openingType=MNP`
  - ë˜ëŠ”:
  - `GET /api/direct/mobiles-pricing/bulk?carrier=SK` (ì „ì²´ ë˜ëŠ” ëŒ€ëŸ‰ ì¡°íšŒ)
  - ì‘ë‹µ:
    - `[{ carrier, modelId, model, planGroup, planCode, openingType, factoryPrice, publicSupport, storeSupportWithAddon, storeSupportWithoutAddon, policyMargin, policyId }]`
  - ì‚¬ìš©ì²˜:
    - `MobileListTab`:
      - í˜„ì¬ ì„ íƒëœ `planGroup/openingType` ì¡°í•©ì— ë§ëŠ” ë ˆì½”ë“œë§Œ í•„í„°í•´ì„œ ì‚¬ìš©.
    - `TodaysMobileTab`:
      - ì¹´ë“œ ë³„ ê°€ê²©ì„ ë§ˆìŠ¤í„° ê°’ì—ì„œ ìš°ì„  ì‚¬ìš©í•˜ê³ ,  
        í•„ìš” ì‹œ `calculateMobilePrice`ë¡œ ì¬ë³´ì •.
    - `OpeningInfoPage`:
      - ì´ˆê¸° ì§„ì…/ìš”ê¸ˆì œ ë³€ê²½ ì‹œ **ë§ˆìŠ¤í„° ê°’**ì„ ë¨¼ì € ì½ê³ ,  
        ì´í›„ ê³„ì‚° ì—”ì§„ì— ì „ë‹¬.

- **3) ìš”ê¸ˆì œ ë§ˆìŠ¤í„° ì¡°íšŒ**
  - `GET /api/direct/plans-master?carrier=SK`
  - ì‘ë‹µ:
    - `[{ carrier, planName, planGroup, basicFee, planCode, enabled }]`
  - ì‚¬ìš©ì²˜:
    - `OpeningInfoPage` ìš”ê¸ˆì œ Autocomplete:
      - `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°` ê¸°ë°˜ìœ¼ë¡œ ê²€ìƒ‰/ì„ íƒ ì²˜ë¦¬.
  - êµ¬í˜„ ìƒíƒœ:
    - ë°±ì—”ë“œ:
      - `GET /api/direct/plans-master?carrier=...` ì´ë¯¸ êµ¬í˜„ ë° ìš´ì˜ ì¤‘.
    - í”„ë¡ íŠ¸:
      - ì¶”í›„ `OpeningInfoPage` ë¦¬íŒ©í† ë§ ë‹¨ê³„ì—ì„œ ì—°ë™ ì˜ˆì •.

#### 8-3-2. ETL íŠ¸ë¦¬ê±° API

- **ê²½ë¡œ ì œì•ˆ**:
  - `POST /api/direct/rebuild-master?carrier=SK`
- **ë™ì‘**:
  1. `carrier` ê°€ ì—†ìœ¼ë©´ `['SK','KT','LG']` ì „ì²´ ìˆ˜í–‰.
  2. 8-2-2 ~ 8-2-4ì˜ ETLì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰:
     - `ìš”ê¸ˆì œë§ˆìŠ¤í„° â†’ ë‹¨ë§ë§ˆìŠ¤í„° â†’ ë‹¨ë§ìš”ê¸ˆì •ì±…`.
  3. ì™„ë£Œ í›„:
     - ë³€ê²½ëœ ë ˆì½”ë“œ ìˆ˜/ì—ëŸ¬ ë¦¬ìŠ¤íŠ¸ ë“±ì„ ì‘ë‹µìœ¼ë¡œ ë°˜í™˜.
- **ì‚¬ìš©ì²˜**:
  - `DirectStoreManagementMode`ì˜ `LinkSettingsTab` ë˜ëŠ” ë³„ë„ â€œë°ì´í„° ê´€ë¦¬â€ íƒ­ì—:
    - â€œë§ˆìŠ¤í„° ë°ì´í„° ì¬ë¹Œë“œâ€ ë²„íŠ¼ì„ ë§Œë“¤ì–´ ì´ APIë¥¼ í˜¸ì¶œ.

- **í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸**
  - í†µì‹ ì‚¬ í•˜ë‚˜(SK)ë§Œ ëŒ€ìƒìœ¼ë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸:
    - SKë§Œ ì¬ë¹Œë“œ â†’ SK ê´€ë ¨ í™”ë©´ë“¤ì´ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸.
  - KT/LGëŠ” ê¸°ì¡´ APIë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë‹¤ê°€, ê²€ì¦ì´ ëë‚œ í›„ ìˆœì°¨ì ìœ¼ë¡œ ì „í™˜.

---

### 8-4. í”„ë¡ íŠ¸ì—”ë“œ ë¦¬íŒ©í† ë§ ë‹¨ê³„

#### 8-4-1. 1ë‹¨ê³„ â€“ ë°ì´í„° ì†ŒìŠ¤ ìŠ¤ìœ„ì¹­ (ê¸°ëŠ¥ ìœ ì§€)

- **`MobileListTab`**
  - í˜„ì¬:
    - `getMobileList` + `getLinkSettings` + `calculateMobilePrice` + ë³µì¡í•œ ìºì‹œ/í.
  - 1ë‹¨ê³„:
    - ëª©ë¡(ë‹¨ë§ ì •ë³´):
      - `getMobileList` â†’ `getMobilesMaster`(ì‹ ê·œ API) ë¡œ êµì²´.
    - ê°€ê²©:
      - `calculateMobilePrice` ìœ ì§€í•˜ë˜,
      - **ê°€ëŠ¥í•˜ë©´ `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…`ì—ì„œ ë°”ë¡œ ê°’ì„ ì½ëŠ” í—¬í¼**ë¥¼ ë¨¼ì € ì‚¬ìš©:
        - ì—†ìœ¼ë©´ fallback ìœ¼ë¡œ `calculateMobilePrice` í˜¸ì¶œ.
    - ì´ ë‹¨ê³„ì—ì„œëŠ” ê¸°ì¡´ ìºì‹œ/íë¥¼ **ì§€ìš°ì§€ ë§ê³ **,  
      ë‹¨ì§€ ì…ë ¥ ë°ì´í„°ë¥¼ ë§ˆìŠ¤í„° ê¸°ë°˜ìœ¼ë¡œ ë°”ê¾¸ëŠ” ê²ƒì— ì§‘ì¤‘.

- **`TodaysMobileTab`**
  - í˜„ì¬:
    - `getTodaysMobiles` + `getMobileList` + `calculateMobilePrice` + priceCache.
  - 1ë‹¨ê³„:
    - ìŠ¬ë¼ì´ë“œì‡¼ìš© ë°ì´í„° ì¤€ë¹„ì—ì„œ:
      - `getMobileList` ëŒ€ì‹  `getMobilesMaster` ì‚¬ìš©.
    - ê°€ê²© ê³„ì‚°:
      - ë¨¼ì € `mobiles-pricing` ë§ˆìŠ¤í„° APIì—ì„œ ì°¾ê³ ,
      - ì—†ì„ ë•Œë§Œ `calculateMobilePrice` í˜¸ì¶œ.

- **`OpeningInfoPage`**
  - í˜„ì¬:
    - `getLinkSettings` â†’ `fetchRangeData` â†’ ì •ì±…í‘œì—ì„œ ë‹¤ì‹œ ê³„ì‚°.
  - 1ë‹¨ê³„:
    - `initialData(planGroup/openingType)` ê¸°ì¤€:
      - `mobiles-pricing` ë§ˆìŠ¤í„° APIë¥¼ ë¨¼ì € í˜¸ì¶œí•´  
        `publicSupport/storeSupportWithAddon/storeSupportWithoutAddon` ê¸°ë³¸ê°’ì„ ì„¸íŒ….
    - ì´í›„ ë¡œì§(ê³„ì‚°ì—”ì§„, ì €ì¥ ë“±)ì€ ê·¸ëŒ€ë¡œ ìœ ì§€.

#### 8-4-2. 2ë‹¨ê³„ â€“ ë¶ˆí•„ìš”í•œ ì‹œíŠ¸/ë¡œì§ ì •ë¦¬

- `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°`:
  - íƒœê·¸ ì •ë³´ê°€ `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ë¡œ ì™„ì „íˆ ì´ì „ë˜ë©´:
    - ì½ê¸°/ì“°ê¸° ë¡œì§ì„ ì ì§„ì ìœ¼ë¡œ **ë‹¨ë§ë§ˆìŠ¤í„° ê¸°ì¤€ìœ¼ë¡œ êµì²´**.
    - ì¼ì • ê¸°ê°„ ìš´ì˜ í›„, ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‹œíŠ¸/ì½”ë“œ ì œê±° ê³ ë ¤.

- `directStoreApiClient.calculateMobilePrice`:
  - ë§ˆìŠ¤í„°ê°€ ì¶©ë¶„íˆ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì´ ë˜ë©´:
    - **ì˜ˆì™¸ ì¼€ì´ìŠ¤/ë””ë²„ê¹… ìš©ë„**ë¡œë§Œ ë‚¨ê¸°ê³ ,
    - ì¼ë°˜ íë¦„ì—ì„œëŠ” í˜¸ì¶œ ë¹ˆë„ë¥¼ í¬ê²Œ ì¤„ì´ê¸°.

---

### 8-5. ë‹¨ê³„ë³„ ê¶Œì¥ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

- **1ë‹¨ê³„: ë§ˆìŠ¤í„° ì‹œíŠ¸/ETL ê²€ì¦**
  - ê° í†µì‹ ì‚¬ë³„ë¡œ:
    - ëŒ€í‘œ ëª¨ë¸ 3ê°œ Ã— ìš”ê¸ˆì œêµ° 2ê°œ Ã— ê°œí†µìœ í˜• 3ê°œ ì¡°í•© í‘œë¥¼ ë§Œë“¤ê³ ,
    - `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…` ê°’ê³¼ ê¸°ì¡´ í™”ë©´ì˜ ìµœì¢… ê¸ˆì•¡ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµ.

- **2ë‹¨ê³„: API ìŠ¤ìœ„ì¹­ í›„ í™”ë©´ ê²€ì¦**
  - `MobileListTab`:
    - SK/KT/LG íƒ­ ì „í™˜, íƒœê·¸/ì´ë¯¸ì§€/ê°€ê²©ì´ ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ë³´ì´ëŠ”ì§€ í™•ì¸.
  - `TodaysMobileTab`:
    - í”„ë¦¬ë¯¸ì—„/ì¤‘ì €ê°€ ì¹´ë“œ ìˆ˜, ê°€ê²©, ìŠ¬ë¼ì´ë“œì‡¼ ë™ì‘ í™•ì¸.
  - `OpeningInfoPage`:
    - íœ´ëŒ€í°ëª©ë¡/ì˜¤ëŠ˜ì˜íœ´ëŒ€í°/íŒë§¤ì¼ë³´ ê°ê°ì—ì„œ ì§„ì… ì‹œ  
      ì´ˆê¸° ê¸ˆì•¡/ì›” ë‚©ë¶€ê¸ˆì´ ê¸°ì¡´ê³¼ ë™ì¼í•œì§€ í™•ì¸.

- **3ë‹¨ê³„: êµ¬ì‹œíŠ¸/êµ¬ë¡œì§ ì œê±° ì „ íšŒê·€ í…ŒìŠ¤íŠ¸**
  - ìµœì†Œ í•˜ë£¨ ì´ìƒ ì‹¤ì œ ë°ì´í„°ë¡œ ìš´ì˜í•˜ë©´ì„œ:
    - íŒë§¤ì¼ë³´ ì €ì¥/ìˆ˜ì •,
    - ì´ë¯¸ì§€ ì—…ë¡œë“œ,
    - íƒœê·¸ ë³€ê²½,
    - ì—…ë°ì´íŠ¸ íŒì—… ë“± ì§ì˜ì  ê´€ë ¨ ê¸°ëŠ¥ì´ ëª¨ë‘ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸.

ì´ í”ŒëœëŒ€ë¡œ ì§„í–‰í•˜ë©´, ê¸°ì¡´ ê¸°ëŠ¥ì„ ìœ ì§€í•œ ìƒíƒœì—ì„œ **ì—ëŸ¬ë¥¼ ìµœì†Œí™”í•˜ë©´ì„œ**  
ì ì§„ì ìœ¼ë¡œ ë§ˆìŠ¤í„° ê¸°ë°˜ êµ¬ì¡°ë¡œ ì „í™˜í•  ìˆ˜ ìˆë‹¤. í•„ìš”í•œ ë‹¨ê³„ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ìš”ì²­í•˜ë©´  
í•´ë‹¹ ë¶€ë¶„ë§Œ ë”°ë¡œ ì²´í¬ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë” ì„¸ë¶„í™”í•´ ì¤„ ìˆ˜ ìˆë‹¤.

---

### 8-6. ì‹¤ì œ ì‘ì—…ìš© ìˆœì°¨ ë¦¬íŒ©í† ë§ ì²´í¬ë¦¬ìŠ¤íŠ¸ (ë§í¬ì„¤ì •/ì •ê·œí™” í…ŒìŠ¤íŠ¸ í¬í•¨)

ì•„ë˜ ìˆœì„œëŒ€ë¡œ í•˜ë‚˜ì”© ì§„í–‰í•˜ê³ , ê° ë‹¨ê³„ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•œ ë’¤ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.

#### 1ë‹¨ê³„ â€“ ë§í¬ì„¤ì • ë²”ìœ„ ë¡œë”© ê²€ì¦ (ë°±ì—”ë“œë§Œ)

- **1-1. ë§í¬ì„¤ì • ì›ë³¸ ë¡œë”© í…ŒìŠ¤íŠ¸ìš© API/ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€**
  - ì„ì‹œ(ë˜ëŠ” ì˜êµ¬) ë””ë²„ê·¸ ì—”ë“œí¬ì¸íŠ¸ ì˜ˆ:
    - `GET /api/direct/debug/link-settings?carrier=SK`
    - ë‚´ë¶€ì—ì„œ:
      - `ì§ì˜ì _ì„¤ì •`ì—ì„œ `planGroup/support/policy` ì„¤ì • JSONì„ ê·¸ëŒ€ë¡œ ë°˜í™˜.
      - `fetchRangeData` ë˜ëŠ” Sheets APIë¡œ ê° `planNameRange/planGroupRange/basicFeeRange` ë¥¼ ì‹¤ì œë¡œ ì½ì–´:
        - â€œì²« 3í–‰/ë§ˆì§€ë§‰ 3í–‰â€ ì •ë„ì˜ ìƒ˜í”Œ ë°ì´í„°ë„ ê°™ì´ ë°˜í™˜.
- **1-2. ë§í¬ì„¤ì • UIì™€ ì‹œíŠ¸ì˜ ì‹±í¬ í™•ì¸**
  - ê° í†µì‹ ì‚¬(SK/KT/LG)ì— ëŒ€í•´:
    - ë§í¬ì„¤ì • íƒ­ì—ì„œ ì…ë ¥í•œ ì‹œíŠ¸ID/ë²”ìœ„ì™€  
      `debug/link-settings` ì‘ë‹µì˜ ì‹œíŠ¸ID/ë²”ìœ„ê°€ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.
    - ì‘ë‹µì— í¬í•¨ëœ ìƒ˜í”Œ ë°ì´í„°ê°€ ì‹œíŠ¸ ë‚´ìš©ê³¼ ë™ì¼í•œì§€ ìˆ˜ë™ìœ¼ë¡œ ë¹„êµ.
  - âœ… ì´ ë‹¨ê³„ê¹Œì§€ í™•ì¸ì´ ëë‚˜ë©´:
    - ë³€ê²½ëœ ì„œë²„ ì½”ë“œë¥¼ ì»¤ë°‹/í‘¸ì‹œí•˜ê³ ,
    - ë°°í¬ í›„ ë§í¬ì„¤ì • í™”ë©´ì—ì„œ ì‹¤ì œë¡œ ë²”ìœ„ë¥¼ ìˆ˜ì •/ì €ì¥í•´ ë³¸ ë’¤  
      `debug/link-settings` ê²°ê³¼ì™€ ë¹„êµí•˜ì—¬ ìš´ì˜ í™˜ê²½ì—ì„œë„ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸.

#### 2ë‹¨ê³„ â€“ ì •ê·œí™”(ETL) 1ì°¨ ì‹¤í–‰: ë¡œê·¸ ê¸°ë°˜ ì ê²€

- **2-1. ETL ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ êµ¬í˜„**
  - `POST /api/direct/rebuild-master?carrier=SK`:
    - í˜„ì¬ëŠ” ì‹¤ì œ ì‹œíŠ¸ë¥¼ ê±´ë“œë¦¬ì§€ ë§ê³ :
      - `ì§ì˜ì _ì„¤ì •` â†’ ì›ë³¸ ì‹œíŠ¸ë“¤ì„ ì½ì–´ì„œ,
      - ì •ê·œí™”/ë¨¸ì§€ ê²°ê³¼ë¥¼ **ë©”ëª¨ë¦¬ì—ì„œë§Œ ê³„ì‚° í›„ JSONìœ¼ë¡œ ì‘ë‹µ**.
    - ì‘ë‹µ ë‚´ìš©:
      - `plansSample` (ìš”ê¸ˆì œë§ˆìŠ¤í„° ìƒ˜í”Œ ëª‡ ê°œ),
      - `devicesSample` (ë‹¨ë§ë§ˆìŠ¤í„° ìƒ˜í”Œ ëª‡ ê°œ),
      - `pricingSample` (ë‹¨ë§ìš”ê¸ˆì •ì±… ìƒ˜í”Œ ëª‡ ê°œ),
      - `warnings` (ë§¤ì¹­ ì‹¤íŒ¨, ì¤‘ë³µ, ì´ìƒì¹˜ ë“±).
- **2-2. ì •ê·œí™” ë¡œì§ ê²€ì¦**
  - ì‹¤ì œ êµ¬ê¸€ì‹œíŠ¸ì™€ `plansSample/devicesSample/pricingSample` ì„ ë¹„êµ:
    - ëª¨ë¸ëª…/ìš”ê¸ˆì œêµ°/ê¸°ë³¸ë£Œ/ì¶œê³ ê°€/ì§€ì›ê¸ˆì´ ê¸°ëŒ€ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.
    - `warnings` ì— ì¤‘ìš”í•œ ë¬¸ì œê°€ ì—†ëŠ”ì§€ í™•ì¸:
      - â€œì–´ë–¤ ì´ìœ ë¡œ ì–´ë–¤ ëª¨ë¸/ìš”ê¸ˆì œ ì¡°í•©ì´ ìŠ¤í‚µë˜ì—ˆëŠ”ì§€â€ë¥¼ íŒŒì•….
  - âœ… ì´ ë‹¨ê³„ê¹Œì§€ ë¬¸ì œ ì—†ìœ¼ë©´:
    - ETL ë””ë²„ê·¸ ê²°ê³¼(ìƒ˜í”Œ JSON)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì»¤ë°‹/í‘¸ì‹œ í›„,
    - ì¬ë°°í¬ëœ ì„œë²„ì—ì„œ ë™ì¼í•œ `rebuild-master` ë””ë²„ê·¸ í˜¸ì¶œì„ í•´ ë³´ê³   
      ë¡œì»¬/ìš´ì˜ í™˜ê²½ ê²°ê³¼ê°€ ì¼ê´€ì ì¸ì§€ í™•ì¸.

#### 3ë‹¨ê³„ â€“ ë§ˆìŠ¤í„° ì‹œíŠ¸ì— ì“°ê¸°(Write) í™œì„±í™”

- **3-1. `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°` ë¤í”„**
  - 2ë‹¨ê³„ì—ì„œ ê²€ì¦í•œ ì •ê·œí™” ê²°ê³¼ë¥¼:
    - ê¸°ì¡´ ë°ì´í„°ë¥¼ **ë°±ì—… ì‹œíŠ¸**(ì˜ˆ: `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°_backup_YYYYMMDD`)ë¡œ ë³µì‚¬í•œ ë’¤,
    - `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°` A:G ì „ì²´ë¥¼ overwrite.
  - í…ŒìŠ¤íŠ¸:
    - ì„ì˜ì˜ ìš”ê¸ˆì œ 5ê°œë¥¼ ê³¨ë¼ ì›ë³¸ ì‹œíŠ¸ì™€ ê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ì¬í™•ì¸.

- **3-2. `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ë¤í”„**
  - ë™ì¼ ë°©ì‹ìœ¼ë¡œ:
    - ë°±ì—… ì‹œíŠ¸ë¥¼ ë§Œë“¤ê³ ,
    - ìƒˆë¡œìš´ ì •ê·œí™” ê²°ê³¼ë¡œ overwrite.
  - í…ŒìŠ¤íŠ¸:
    - ê¸°ì¡´ `MobileListTab`ì—ì„œ ë³´ì´ë˜ ëŒ€í‘œ ë‹¨ë§ì˜ **ëª¨ë¸ëª…/í«ë„¤ì„/ì œì¡°ì‚¬/ì¶œê³ ê°€/íƒœê·¸/ì´ë¯¸ì§€URL** ì´  
      `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ì—ì„œë„ ì •í™•íˆ ë§¤ì¹­ë˜ëŠ”ì§€ ìˆ˜ë™ ê²€ì¦.

- **3-3. `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…` ë¤í”„**
  - ë°±ì—… í›„ overwrite.
  - í…ŒìŠ¤íŠ¸:
    - ê° í†µì‹ ì‚¬ë³„ë¡œ 2~3ê°œ ëª¨ë¸ì— ëŒ€í•´:
      - ê³¼ê±° í™”ë©´ ìŠ¤í¬ë¦°ìƒ·/ê¸°ë¡ê³¼ `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…` ì˜ ê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ì²´í¬.
  - âœ… ì„¸ ë§ˆìŠ¤í„° ì‹œíŠ¸ê¹Œì§€ ê°’ì´ ì•ˆì •ì ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ê²ƒì´ í™•ì¸ë˜ë©´:
    - ì´ ì‹œì ì—ì„œ í•œ ì°¨ë¡€ ì»¤ë°‹/í‘¸ì‹œ/ë°°í¬ë¥¼ ì§„í–‰í•˜ê³ ,
    - êµ¬ê¸€ì‹œíŠ¸ UIì—ì„œ ë§ˆìŠ¤í„° ì‹œíŠ¸ë¥¼ ì§ì ‘ ì—´ì–´ ëˆˆìœ¼ë¡œë„ ê°’ í™•ì¸.

#### 4ë‹¨ê³„ â€“ ì‹ ê·œ ë§ˆìŠ¤í„° ì¡°íšŒ API êµ¬í˜„ ë° ë¶€ë¶„ ì „í™˜

- **4-1. `mobiles-master` / `mobiles-pricing` / `plans-master` API êµ¬í˜„**
  - `mobiles-master`:
    - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ë¥¼ ì½ì–´ JSONìœ¼ë¡œ ë°˜í™˜.
  - `mobiles-pricing`:
    - `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…`ì—ì„œ í•„í„°ë§ í›„ JSON ë°˜í™˜.
  - `plans-master`:
    - `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`ë¥¼ ì½ì–´ JSON ë°˜í™˜.

- **4-2. í…ŒìŠ¤íŠ¸ìš© í† ê¸€ í”Œë˜ê·¸ ë„ì…**
  - ì˜ˆ: `.env` ë˜ëŠ” ì„œë²„ ì„¤ì •ì—:
    - `USE_DIRECT_MASTER=true/false`
  - í”„ë¡ íŠ¸ì—ì„œëŠ”:
    - í”Œë˜ê·¸ê°€ trueì¼ ë•Œë§Œ ë§ˆìŠ¤í„° APIë¥¼ ì‚¬ìš©í•˜ê³ ,  
      falseì¼ ë•ŒëŠ” ê¸°ì¡´ APIë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë¶„ê¸°.

- **4-3. í™”ë©´ë³„ ë¶€ë¶„ ì „í™˜ ë° ë¹„êµ**
  - ë¨¼ì € SKë§Œ:
    - `MobileListTab` ì—ì„œ SK íƒ­ë§Œ `USE_DIRECT_MASTER=true` ë¡œ ì „í™˜í•˜ê³ ,  
      KT/LGëŠ” ê¸°ì¡´ ë°©ì‹ ìœ ì§€.
    - SK íƒ­ì—ì„œ:
      - ì¬ê³ /ê°€ê²©/íƒœê·¸/ì´ë¯¸ì§€ í‘œí˜„ì´ ê¸°ì¡´ê³¼ 1:1ë¡œ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.
  - ë™ì¼ ë°©ì‹ìœ¼ë¡œ:
    - `TodaysMobileTab` â†’ SKë§Œ ë§ˆìŠ¤í„° API ì‚¬ìš©.
    - `OpeningInfoPage` â†’ SKë§Œ ë§ˆìŠ¤í„° ê¸°ë°˜ ì´ˆê¸°ê°’ ì‚¬ìš©.
  - âœ… SKì— ëŒ€í•œ ë¶€ë¶„ ì „í™˜ì´ ì´ìƒ ì—†ìœ¼ë©´:
    - ì½”ë“œ ìƒíƒœë¥¼ ì»¤ë°‹/í‘¸ì‹œí•˜ê³  ë°°í¬í•œ ë‹¤ìŒ,
    - ì‹¤ì œ ì–´í”Œ í™”ë©´ì—ì„œ SK íƒ­/í™”ë©´ì„ ì§‘ì¤‘ì ìœ¼ë¡œ ë¹„êµ í…ŒìŠ¤íŠ¸í•œ ë’¤  
      ì´ìƒ ì—†ìœ¼ë©´ KT/LGì— ëŒ€í•´ì„œë„ ìˆœì°¨ì ìœ¼ë¡œ ë§ˆìŠ¤í„° API ì‚¬ìš© ë¹„ìœ¨ì„ ëŠ˜ë ¤ê°„ë‹¤.

#### 5ë‹¨ê³„ â€“ ë§ˆìŠ¤í„° êµ¬ì¡° ì•ˆì •í™” í›„ ê¸°ì¡´ ë¡œì§ ì •ë¦¬

- **5-1. ë§í¬ì„¤ì •/ì •ì±…í‘œ ì§ì ‘ì¡°íšŒ ê²½ë¡œ ì¶•ì†Œ**
  - `MobileListTab` / `TodaysMobileTab` / `OpeningInfoPage` ì—ì„œ:
    - í˜„ì¬ëŠ” ë§í¬ì„¤ì •+ë²”ìœ„ ì¡°íšŒ ê²½ë¡œì™€ ë§ˆìŠ¤í„° API ê²½ë¡œê°€ **ë‘˜ ë‹¤ ì¡´ì¬**.
  - ì•ˆì •í™” í›„:
    - ì‹¤ì œ í™”ë©´ì—ì„œëŠ” ë§ˆìŠ¤í„° APIë§Œ ì‚¬ìš©í•˜ê³ ,
    - ë§í¬ì„¤ì •/ë²”ìœ„ ì¡°íšŒëŠ” **ETL ë° ê´€ë¦¬ í™”ë©´ ì „ìš©**ìœ¼ë¡œ í•œì •.

- **5-2. `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°` íƒœê·¸ ì €ì¥ ìœ„ì¹˜ ì¬ê²€í† **
  - íƒœê·¸ ì •ë³´ë¥¼ `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ë¡œ ì™„ì „íˆ ì˜®ê²¼ë‹¤ë©´:
    - `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°` ì€:
      - í•„ìš” ì‹œ íšŒì˜ìš©/ìŠ¬ë¼ì´ë“œ êµ¬ì„±ìš© ë³´ì¡° ì‹œíŠ¸ë¡œ ì“°ê±°ë‚˜,
      - ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì œê±° ê³ ë ¤.

- **5-3. `calculateMobilePrice` í˜¸ì¶œ ë¹ˆë„ ì¶•ì†Œ**
  - ë§ˆìŠ¤í„° ë°ì´í„°ì™€ í™”ë©´ì´ ì¶©ë¶„íˆ ê²€ì¦ë˜ë©´:
    - `calculateMobilePrice`ëŠ”:
      - ìƒˆ ì •ì±… ì ìš© ì§í›„,
      - ì˜ˆì™¸ ì¼€ì´ìŠ¤ ë””ë²„ê¹… ì‹œì—ë§Œ ì‚¬ìš©í•˜ëŠ” ë³´ì¡° APIë¡œ ì¶•ì†Œ.

#### 6ë‹¨ê³„ â€“ ë¶ˆí•„ìš”í•œ êµ¬ê¸€ ì‹œíŠ¸/ë²”ìœ„ ì •ë¦¬

- **6-1. ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì‹œíŠ¸ í›„ë³´ ì •ë¦¬**
  - ë§ˆìŠ¤í„° êµ¬ì¡°ë¡œ ì™„ì „íˆ ì „í™˜ëœ ë’¤, ì•„ë˜ ì‹œíŠ¸/ë²”ìœ„ë¥¼ **â€œì½ê¸° ì „ìš©/íˆìŠ¤í† ë¦¬â€** ë¡œ ë³¼ ìˆ˜ ìˆëŠ”ì§€ ê²€í† :
    - `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°`:
      - íƒœê·¸/ì„ ì • ì •ë³´ê°€ `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ë¡œ ì™„ì „íˆ ì´ê´€ë˜ì—ˆê³ ,
      - ì½”ë“œ ìƒì—ì„œë„ ë” ì´ìƒ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ê²ƒì´ í™•ì¸ë˜ë©´ ì‚­ì œ í›„ë³´.
    - ê¸°ì¡´ ë§í¬ì„¤ì •ì— ì—°ê²°ë˜ì–´ ìˆë˜ **êµ¬ ë‹¨ê°€í‘œ ì‹œíŠ¸ ì¼ë¶€ ë²”ìœ„**:
      - ìƒˆ PRICE/MASTER êµ¬ì¡°ì—ì„œ ì™„ì „íˆ ëŒ€ì²´ë˜ì—ˆê³ ,
      - `debug/link-settings` ì™€ ETL ì½”ë“œ ì–´ë””ì—ì„œë„ ë” ì´ìƒ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ë²”ìœ„.
  - ì‹¤ì œ ì‚­ì œ ì „ì—:
    - ë°˜ë“œì‹œ ì‹œíŠ¸ ì „ì²´ë¥¼ ë°±ì—…(ë³µì œ)í•˜ì—¬ `_backup_YYYYMMDD` í˜•íƒœë¡œ ë³´ì¡´.

- **6-2. ì‹œíŠ¸/ë²”ìœ„ ì‚­ì œ ì „ ìµœì¢… ì²´í¬**
  - ì½”ë“œ ê²€ìƒ‰:
    - `ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°`, ì˜¤ë˜ëœ ë‹¨ê°€í‘œ ì‹œíŠ¸ëª…/ë²”ìœ„ ë¬¸ìì—´ë¡œ `grep` ê²€ìƒ‰í•´  
      ì°¸ì¡°ê°€ 0ê±´ì¸ì§€ í™•ì¸.
  - ìš´ì˜ í…ŒìŠ¤íŠ¸:
    - í•˜ë£¨ ì´ìƒ ìš´ì˜í•˜ë©´ì„œ:
      - ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ íƒœê·¸ ë³€ê²½ â†’ ì˜¤ëŠ˜ì˜íœ´ëŒ€í°/íœ´ëŒ€í°ëª©ë¡ í™”ë©´ ì¬ê¸°ë™ê¹Œì§€  
        ëª¨ë“  íë¦„ì´ ë§ˆìŠ¤í„° ì‹œíŠ¸/ìƒˆ APIë§Œìœ¼ë¡œ ì˜ ëŒì•„ê°€ëŠ”ì§€ í™•ì¸.

- **6-3. ì‚­ì œ ë° ìµœì¢… ì»¤ë°‹/ë°°í¬**
  - ë¶ˆí•„ìš” ì‹œíŠ¸/ë²”ìœ„ë¥¼ ì œê±°í•œ ë’¤:
    - ê´€ë ¨ ì •ë¦¬ ì»¤ë°‹ ë©”ì‹œì§€ì— â€œì‚­ì œí•œ ì‹œíŠ¸/ë²”ìœ„ ëª©ë¡â€ì„ ëª…ì‹œ.
    - í‘¸ì‹œ/ë°°í¬ í›„:
      - ë‹¤ì‹œ í•œ ë²ˆ ì§ì˜ì  ëª¨ë“œ/ì§ì˜ì  ê´€ë¦¬ ëª¨ë“œ ì „ì²´ í”Œë¡œìš°ë¥¼ ê°„ë‹¨íˆ ì ê²€í•˜ì—¬  
        ì°¸ì¡° ëˆ„ë½ìœ¼ë¡œ ì¸í•œ ì¥ì• ê°€ ì—†ëŠ”ì§€ í™•ì¸.

ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¼ê°€ë©´,  
ë§í¬ì„¤ì •ì—ì„œ ì‹œíŠ¸ ë²”ìœ„ê°€ ì œëŒ€ë¡œ ì½íˆëŠ”ì§€, ì •ê·œí™”ê°€ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ëŠ”ì§€,  
ê° ë‹¨ê³„ë§ˆë‹¤ **í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì¹˜ë©´ì„œ** ì•ˆì „í•˜ê²Œ ë¦¬íŒ©í† ë§ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

---

### 8-7. ë°°í¬/í…ŒìŠ¤íŠ¸ ë‹¨ìœ„(ì»¤ë°‹/í‘¸ì‹œ ìµœì†Œí™” ì „ëµ)

ë¡œì»¬ì—ì„œ í™”ë©´ì„ ë„ìš°ê¸° ì–´ë µê¸° ë•Œë¬¸ì—, **ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ í•œ ë²ˆì— ë¬¶ì–´ì„œ ë°°í¬ í›„ í…ŒìŠ¤íŠ¸**í•  ìˆ˜ ìˆë„ë¡ í° ë‹¨ìœ„ì˜ ë°°í¬ í”Œëœì„ ì¶”ì²œí•œë‹¤.

#### 1ì°¨ ë°°í¬ ë‹¨ìœ„ â€“ ë§í¬ì„¤ì •/ìš”ê¸ˆì œë§ˆìŠ¤í„° ê¸°ë°˜ ì¤€ë¹„

- í¬í•¨ë˜ëŠ” ì½”ë“œ ë³€ê²½:
  - `GET /api/direct/debug/link-settings?carrier=...`
  - `GET /api/direct/debug/rebuild-master-preview?carrier=...`
  - `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°` ETL êµ¬í˜„ ë° ì“°ê¸° ë¡œì§ (ë°±ì—”ë“œ)
  - `GET /api/direct/plans-master?carrier=...` (ìš”ê¸ˆì œë§ˆìŠ¤í„° ì¡°íšŒ API)
- 1ì°¨ ë°°í¬ í›„ í•œ ë²ˆì— ì§„í–‰í•  í…ŒìŠ¤íŠ¸:
  - **ë§í¬ì„¤ì • ë””ë²„ê·¸ í™•ì¸**
    - `/api/direct/debug/link-settings?carrier=SK/KT/LG`
    - ë§í¬ì„¤ì • íƒ­ê³¼ ì‹œíŠ¸ ë²”ìœ„/ìƒ˜í”Œ ë°ì´í„°ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸.
  - **ìš”ê¸ˆì œë§ˆìŠ¤í„° í”„ë¦¬ë·° í™•ì¸**
    - `/api/direct/debug/rebuild-master-preview?carrier=SK/KT/LG`
    - `plansSample` ê³¼ ì›ë³¸ ìš”ê¸ˆì œ ì‹œíŠ¸(ìš”ê¸ˆì œëª…/êµ°/ê¸°ë³¸ë£Œ)ê°€ ë§ëŠ”ì§€ ìƒ˜í”Œ ë¹„êµ.
  - **ì‹¤ì œ `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°` ì‹œíŠ¸ í™•ì¸**
    - ì‹œíŠ¸ë¥¼ ì§ì ‘ ì—´ì–´ í†µì‹ ì‚¬ë³„ë¡œ ìš”ê¸ˆì œ ëª‡ ê°œë¥¼ ì›ë³¸ê³¼ ë¹„êµ.
  - **`plans-master` API í™•ì¸**
    - `/api/direct/plans-master?carrier=SK`
    - ì‘ë‹µ JSONê³¼ `ì§ì˜ì _ìš”ê¸ˆì œë§ˆìŠ¤í„°`ê°€ 1:1ë¡œ ëŒ€ì‘í•˜ëŠ”ì§€ í™•ì¸.

#### 2ì°¨ ë°°í¬ ë‹¨ìœ„ â€“ ë‹¨ë§ë§ˆìŠ¤í„°/ìš”ê¸ˆì •ì±…ë§ˆìŠ¤í„° + í™”ë©´ ë¶€ë¶„ ì „í™˜

- í¬í•¨ë˜ëŠ” ì½”ë“œ ë³€ê²½:
  - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ETL + ì“°ê¸°
  - `ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…` ETL + ì“°ê¸°
  - `GET /api/direct/mobiles-master`, `GET /api/direct/mobiles-pricing`
  - `MobileListTab` / `TodaysMobileTab` / `OpeningInfoPage` ì˜ ë¶€ë¶„ ì „í™˜ (ì˜ˆ: SKë§Œ ë§ˆìŠ¤í„° API ì‚¬ìš©)
  - `USE_DIRECT_MASTER` ì™€ ê°™ì€ í† ê¸€ í”Œë˜ê·¸ ë„ì…ìœ¼ë¡œ, í•„ìš” ì‹œ ê¸°ì¡´ ê²½ë¡œë¡œ ë¡¤ë°± ê°€ëŠ¥í•˜ë„ë¡ í•¨.
- 2ì°¨ ë°°í¬ í›„ í…ŒìŠ¤íŠ¸:
  - `mobiles-master` / `mobiles-pricing` ì‘ë‹µê³¼ ê° ë§ˆìŠ¤í„° ì‹œíŠ¸ë¥¼ ë¹„êµ.
  - SK íƒ­/í™”ë©´ì—ì„œ:
    - ê¸°ì¡´(ë°°í¬ ì „ ìŠ¤í¬ë¦°ìƒ·/ê¸°ë¡)ê³¼ ê°’ì´ ë™ì¼í•œì§€ ë¹„êµ:
      - íœ´ëŒ€í°ëª©ë¡: ì¬ê³ /ê°€ê²©/íƒœê·¸/ì´ë¯¸ì§€
      - ì˜¤ëŠ˜ì˜íœ´ëŒ€í°: ì¹´ë“œ ìˆ˜/ê°€ê²©/ìŠ¬ë¼ì´ë“œì‡¼
      - ê°œí†µì •ë³´ì…ë ¥: ì´ˆê¸° ê¸ˆì•¡/ì›” ë‚©ë¶€ê¸ˆ.
  - KT/LGëŠ” ì´ ë°°í¬ì—ì„œëŠ” ê·¸ëŒ€ë¡œ ê¸°ì¡´ ë°©ì‹ ìœ ì§€ â†’ SKê°€ ì¶©ë¶„íˆ ê²€ì¦ë˜ë©´ ì´í›„ KT/LGë¥¼ ìˆœì°¨ ì „í™˜.

#### 3ì°¨ ë°°í¬ ë‹¨ìœ„ â€“ êµ¬ë¡œì§/êµ¬ì‹œíŠ¸ ì •ë¦¬

- í¬í•¨ë˜ëŠ” ì½”ë“œ/ì‹œíŠ¸ ë³€ê²½:
  - ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì‹œíŠ¸/ë²”ìœ„(`ì§ì˜ì _ì˜¤ëŠ˜ì˜íœ´ëŒ€í°` ë“±)ë¥¼ ë°±ì—… í›„ ì‚­ì œ.
  - ë§í¬ì„¤ì •/ì •ì±…í‘œ ì§ì ‘ ì¡°íšŒ ê²½ë¡œë¥¼ ETL/ê´€ë¦¬ìš©ìœ¼ë¡œë§Œ ë‚¨ê¸°ê³ , ìš´ì˜ í™”ë©´ì€ ë§ˆìŠ¤í„° ì „ìš©ìœ¼ë¡œ í†µì¼.
- 3ì°¨ ë°°í¬ í›„ í…ŒìŠ¤íŠ¸:
  - ì§ì˜ì  ëª¨ë“œ/ê´€ë¦¬ ëª¨ë“œ ì „ì²´ í”Œë¡œìš°(ì´ë¯¸ì§€ ì—…ë¡œë“œ, íƒœê·¸ ë³€ê²½, íŒë§¤ì¼ë³´, ì—…ë°ì´íŠ¸ íŒì—… ë“±)ë¥¼ ë¹ ë¥´ê²Œ í•œ ë°”í€´ ëŒë©° ì°¸ì¡° ëˆ„ë½ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ í™•ì¸.

---

## 9. ì´ë¯¸ì§€ ì—…ë¡œë“œ/ë¡œë”© íŒŒì´í”„ë¼ì¸ ì •ë¦¬ & ë¦¬íŒ©í† ë§ í¬ì¸íŠ¸

### 9-1. í˜„ì¬ ì´ë¯¸ì§€ íŒŒì´í”„ë¼ì¸ ê°œìš”

- **ì—…ë¡œë“œ íë¦„ (ì§ì˜ì  ëª¨ë“œì—ì„œ í•œ ë‹¨ë§ì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ)**
  1. `MobileListTab` â†’ `MobileListRow`:
     - í–‰ì˜ `í¸ì§‘(ì—°í•„)` ì•„ì´ì½˜ í´ë¦­ â†’ `onImageUploadClick(row.id)` í˜¸ì¶œ.
     - `MobileListTab.handleImageUploadClick(modelId)`:
       - íŒŒì¼ ì¸í’‹ ì—´ê¸° í›„ ì„ íƒëœ íŒŒì¼ì„ `handleFileChange`ë¡œ ì „ë‹¬.
  2. `MobileListTab.handleFileChange`:
     - í˜„ì¬ íƒ­ì˜ í†µì‹ ì‚¬(`SK/KT/LG`)ì™€ ì„ íƒëœ í–‰ì˜ ëª¨ë¸ëª…/í«ë„¤ì„ì„ ê¸°ì¤€ìœ¼ë¡œ:
       - `directStoreApi.uploadImage(file, actualModelId, carrier, modelName, petName)` í˜¸ì¶œ.
       - ì—¬ê¸°ì„œ `actualModelId`ëŠ” â€œì‹¤ì œ ëª¨ë¸ ì½”ë“œ(ëª¨ë¸ëª…)â€ë¥¼ ì‚¬ìš©.
  3. ì„œë²„ `/api/direct/upload-image` (`server/index.js`):
     - `multer`ë¡œ íŒŒì¼ ìˆ˜ì‹  (`directStoreUpload.single('image')`).
     - Discord ë´‡ì„ í†µí•´ **ì œì¡°ì‚¬/í†µì‹ ì‚¬ë³„ í¬ìŠ¤íŠ¸(ìŠ¤ë ˆë“œ)**ë¥¼ ì°¾ê±°ë‚˜ ìƒì„±:
       - `extractManufacturer` ë¡œ ì œì¡°ì‚¬ ì¶”ì¶œ â†’ `findOrCreateManufacturerThread`.
     - Discordì— ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ Discord CDN URL(`imageUrl`) íšë“.
     - `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€!A:G`ë¥¼ ì½ê³ :
       - `í†µì‹ ì‚¬(A)` + `ëª¨ë¸ID(B)` + `ëª¨ë¸ëª…(C)` ì¡°í•©(ì •ê·œí™” í¬í•¨)ìœ¼ë¡œ ê¸°ì¡´ í–‰ì„ ì°¾ìŒ.
       - ê¸°ì¡´ í–‰ì´ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸, ì—†ìœ¼ë©´ ìƒˆ í–‰ append:
         - `A: í†µì‹ ì‚¬, B: ëª¨ë¸ID, C: ëª¨ë¸ëª…, D: í«ë„¤ì„, E: ì œì¡°ì‚¬, F: ì´ë¯¸ì§€URL, G: ë¹„ê³ `.
     - ì €ì¥ í›„ `invalidateDirectStoreCache(carrier)` í˜¸ì¶œë¡œ:
       - `mobiles-{carrier}` ë° `todays-mobiles` ìºì‹œ ë¬´íš¨í™”.
     - ìµœì¢… ì‘ë‹µ:
       - `{ success, imageUrl, modelId, warning? }` êµ¬ì¡°ë¡œ í”„ë¡ íŠ¸ì— ì „ë‹¬.
  4. `MobileListTab`:
     - ì‘ë‹µ ì„±ê³µ ì‹œ:
       - í•´ë‹¹ í–‰ì˜ `row.image` ë¥¼ ìƒˆ `imageUrl` ë¡œ ë¨¼ì € ê°±ì‹  (ë‚™ê´€ì  ì—…ë°ì´íŠ¸).
       - ì´í›„ `getMobileList(carrier)` ë¥¼ í•œ ë²ˆ ë” í˜¸ì¶œí•´ ì„œë²„ ê¸°ì¤€ ìµœì‹  ë°ì´í„°ë¥¼ ë¡œë“œ.
       - `window.dispatchEvent('imageUploaded', { carrier, modelId, imageUrl })` ë¡œ ë¸Œë¡œë“œìºìŠ¤íŠ¸.
  5. `TodaysMobileTab`:
     - `imageUploaded` ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ì„œ:
       - 1ì´ˆ í›„ `fetchData()`ë¥¼ ì¬í˜¸ì¶œí•˜ì—¬ ì˜¤ëŠ˜ì˜ íœ´ëŒ€í° ë°ì´í„°ë¥¼ ì¬ë¡œë”©.

- **ë¡œë”©(í‘œì‹œ) íë¦„**
  - ëª¨ë“  ì§ì˜ì  ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ëŠ” ì´ë¯¸ì§€ í‘œì‹œ ì‹œ **í”„ë¡ì‹œ + ì‹¤íŒ¨ ì¬ì‹œë„** ë¡œì§ ì‚¬ìš©:
    - `getProxyImageUrl(imageUrl)` (`api.js`):
      - Discord CDN(`cdn.discordapp.com` / `media.discordapp.net`)ì´ë©´:
        - `API_BASE_URL/api/meetings/proxy-image?url=...` ë¡œ ë³€í™˜.
        - ì•„ë‹ˆë©´ ì›ë³¸ URL ê·¸ëŒ€ë¡œ ë°˜í™˜.
    - `MobileListRow` / `TodaysProductCard`:
      - `Avatar` / `CardMedia` ì˜ `src` ë¡œ `getProxyImageUrl(row.image)` ì‚¬ìš©.
      - `onError` ì—ì„œ:
        - ìµœëŒ€ 3íšŒê¹Œì§€ í”„ë¡ì‹œ â†” ì›ë³¸ URLì„ ë²ˆê°ˆì•„ ì‹œë„.
        - ëª¨ë‘ ì‹¤íŒ¨ ì‹œ í•´ë‹¹ ì´ë¯¸ì§€ ìš”ì†Œë¥¼ ìˆ¨ê¸°ê³  ì½˜ì†” ê²½ê³ (ê°œë°œ í™˜ê²½ì—ì„œë§Œ).

---

### 9-2. ë¦¬íŒ©í† ë§ ì‹œ ìœ ì§€/ê°•í™”í•´ì•¼ í•  ë³´ì¥ ì¡°ê±´

1. **Discord ì—…ë¡œë“œ â†’ Sheets ì“°ê¸° â†’ ìºì‹œ ë¬´íš¨í™” ìˆœì„œ ë³´ì¥**
   - Discord ì—…ë¡œë“œ ì„±ê³µ ì‹œ:
     - `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€` ì €ì¥ì´ ì™„ë£Œëœ í›„ì—ë§Œ ìºì‹œ ë¬´íš¨í™”í•˜ëŠ” í˜„ì¬ ìˆœì„œë¥¼ ìœ ì§€.
     - ì €ì¥ ì‹¤íŒ¨ ì‹œì—ë„:
       - ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ê³ , ê²½ê³  ë©”ì‹œì§€ì™€ í•¨ê»˜ `imageUrl` ì„ ì‘ë‹µìœ¼ë¡œ ë°˜í™˜ â†’  
         í”„ë¡ íŠ¸ëŠ” ì¼ë‹¨ ì´ë¯¸ì§€ë¥¼ ì“¸ ìˆ˜ ìˆì–´ì•¼ í•¨.
2. **ëª¨ë¸ ì‹ë³„ ê·œì¹™ì˜ ì¼ê´€ì„±**
   - ì„œë²„ ì—…ë¡œë“œ:
     - `modelId = modelName`(ì‹¤ì œ ëª¨ë¸ ì½”ë“œ)ë¡œ í†µì¼.
     - `normalizeModelCode` ë¡œ ê³µë°±/í•˜ì´í”ˆ/ìš©ëŸ‰ í‘œê¸°ë¥¼ ì •ê·œí™” í›„ ë§¤ì¹­.
   - í”„ë¡ íŠ¸:
     - `MobileListTab`ëŠ” ì—…ë¡œë“œ ì‹œ `actualModelId = modelName` ì„ serverì— ë„˜ê¹€.
     - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`/`ì§ì˜ì _ë‹¨ë§ìš”ê¸ˆì •ì±…` ì—ì„œë„ **ë™ì¼ ê·œì¹™**ìœ¼ë¡œ ëª¨ë¸í‚¤ë¥¼ êµ¬ì„±í•´ì•¼ í•¨.
3. **í”„ë¡ì‹œ URL / Discord CDN ì²˜ë¦¬**
   - ì–´ë–¤ ê²½ë¡œë¡œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ë”ë¼ë„:
     - í•­ìƒ `getProxyImageUrl` ì„ ê±°ì¹˜ë„ë¡ ìœ ì§€.
   - Discord CDNì´ ì•„ë‹Œ URLì´ ë“¤ì–´ì˜¤ëŠ” ê²½ìš°:
     - í”„ë¡ì‹œë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ ë¡œë“œ (ê¸°ì¡´ ë™ì‘ ìœ ì§€).
4. **ì¬ì‹œë„/í´ë°± ë¡œì§ ìœ ì§€**
   - `MobileListRow` / `TodaysProductCard` ì˜ `onError` ì¬ì‹œë„ ë¡œì§ì€:
     - í”„ë¡ì‹œ â†’ ì›ë³¸ â†’ í”„ë¡ì‹œ ìˆœìœ¼ë¡œ ìµœëŒ€ 3íšŒê¹Œì§€ ì‹œë„.
     - ì´ íŒ¨í„´ì„ ë³€ê²½í•˜ì§€ ì•Šê³ , ë§ˆìŠ¤í„° ì‹œíŠ¸/ìƒˆ APIë¡œ ë°”ê¾¸ë”ë¼ë„ ë™ì¼í•˜ê²Œ ë™ì‘í•´ì•¼ í•¨.

---

### 9-3. ë§ˆìŠ¤í„° ì‹œíŠ¸ ë„ì… ì´í›„ ì´ë¯¸ì§€ íŒŒì´í”„ë¼ì¸ ì—°ê²°

#### 9-3-1. `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ì™€ `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€`ì˜ ê´€ê³„

- ë¦¬íŒ©í† ë§ í›„ ê¶Œì¥ êµ¬ì¡°:
  - **ì´ë¯¸ì§€ì˜ â€œì €ì¥ì†Œâ€**:
    - ì—¬ì „íˆ Discord + `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€`ê°€ **ë‹¨ì¼ ì†ŒìŠ¤** ì—­í• .
  - **ë‹¨ë§ ë§ˆìŠ¤í„°ì—ì„œëŠ” â€œì •ê·œí™”ëœ ì´ë¯¸ì§€ URLë§Œ ë³µì œâ€**:
    - ETL ë‹¨ê³„ì—ì„œ:
      - `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€` ë¥¼ ì½ì–´ `(í†µì‹ ì‚¬+ëª¨ë¸ID/ëª¨ë¸ëª…)` ê¸°ì¤€ìœ¼ë¡œ `imageUrl` ë§¤í•‘.
      - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ìƒì„± ì‹œ, ê° ë‹¨ë§ì— `ì´ë¯¸ì§€URL` ì»¬ëŸ¼ì„ ì±„ì›€.
  - ì´ë ‡ê²Œ í•˜ë©´:
    - ëŸ°íƒ€ì„ ì¡°íšŒ ì‹œì—ëŠ” `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ë§Œ ì½ì–´ë„ ì´ë¯¸ì§€ URLì„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ ,
    - í•„ìš” ì‹œ `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€`ë¥¼ ì§ì ‘ ì°¸ê³ í•´ ë””ë²„ê¹…/ìˆ˜ì • ê°€ëŠ¥.

#### 9-3-2. ì—…ë¡œë“œ í›„ ë§ˆìŠ¤í„°ì™€ì˜ ë™ê¸°í™” ì „ëµ

- ì—…ë¡œë“œ ì§í›„:
  - ì§€ê¸ˆì²˜ëŸ¼:
    - `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€` ë¥¼ ê°±ì‹ í•˜ê³ ,
    - `invalidateDirectStoreCache(carrier)` ë¥¼ í˜¸ì¶œí•´ `mobiles-{carrier}`/`todays-mobiles` ìºì‹œë¥¼ ë¬´íš¨í™”.
- ë§ˆìŠ¤í„° êµ¬ì¡° ë„ì… í›„ ì¶”ê°€ë¡œ í•  ì¼:
  - **ì„ íƒ A â€“ ë§ˆìŠ¤í„°ëŠ” ì£¼ê¸°ì  ì¬ë¹Œë“œ(ë°°ì¹˜)**:
    - ì´ë¯¸ì§€ ì—…ë¡œë“œ ì§í›„:
      - ë§ˆìŠ¤í„°ì—ëŠ” ì¦‰ì‹œ ë°˜ì˜ë˜ì§€ ì•Šì§€ë§Œ,
      - í”„ë¡ íŠ¸ëŠ” ì—…ë¡œë“œ ì‘ë‹µì˜ `imageUrl`ì„ ë°”ë¡œ stateì— ë°˜ì˜í•˜ë¯€ë¡œ ì‚¬ìš©ì ê²½í—˜ì—ëŠ” ë¬¸ì œ ì—†ìŒ.
    - ì¼ì • ì£¼ê¸°(ì˜ˆ: í•˜ë£¨ 1íšŒ)ë¡œ ETLì„ ëŒë ¤  
      `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°`ì˜ `ì´ë¯¸ì§€URL` ë„ ìµœì‹  ìƒíƒœë¡œ ë§ì¶¤.
  - **ì„ íƒ B â€“ ì—…ë¡œë“œ ì‹œ í•´ë‹¹ ë‹¨ë§ë§Œ ë¶€ë¶„ ê°±ì‹ **
    - `/api/direct/upload-image`ì˜ Sheets ì €ì¥ ë¡œì§ í›„:
      - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ì—ì„œ ë™ì¼í•œ ëª¨ë¸ í–‰ì„ ì°¾ì•„,
      - `ì´ë¯¸ì§€URL`ë§Œ ìƒˆ URLë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ì¶”ê°€ ë¡œì§ì„ ë„£ì„ ìˆ˜ ìˆìŒ.
    - ì´ ê²½ìš°:
      - ì—…ë¡œë“œ ì§í›„ì—ë„ `mobiles-master` APIê°€ ì´ë¯¸ ìµœì‹  ì´ë¯¸ì§€ë¥¼ ë°˜í™˜.
  - ë‘ ë°©ì‹ ëª¨ë‘:
    - í”„ë¡ íŠ¸ëŠ” **ì—…ë¡œë“œ ì„±ê³µ ì‘ë‹µ â†’ ë¡œì»¬ ìƒíƒœ ì¦‰ì‹œ ì—…ë°ì´íŠ¸** ë¡œ  
      í•­ìƒ ìµœì‹  ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ì‚¬ìš©.

---

### 9-4. ì½”ë“œ ë ˆë²¨ ë¦¬íŒ©í† ë§ í¬ì¸íŠ¸ (ìš”ì•½)

1. **ì—…ë¡œë“œ ì—”ë“œí¬ì¸íŠ¸ ìœ ì§€ (`/api/direct/upload-image`)**
   - êµ¬í˜„ì€ ì´ë¯¸ Discord + `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€` + ìºì‹œ ë¬´íš¨í™”ê¹Œì§€ ì™„ì„±ë„ ë†’ìŒ.
   - ë°”ë€ŒëŠ” ì ì€:
     - í•„ìš” ì‹œ `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ì˜ `ì´ë¯¸ì§€URL` ì„ ê°™ì´ ì—…ë°ì´íŠ¸í•˜ëŠ” ì½”ë“œ ì¶”ê°€(ì„ íƒ B).

2. **í”„ë¡ íŠ¸ ì´ë¯¸ì§€ ì†ŒìŠ¤ ì „í™˜**
   - `MobileListTab` / `TodaysMobileTab`ì˜ ë°ì´í„° ì†ŒìŠ¤ë¥¼  
     ë§ˆìŠ¤í„° API(`mobiles-master`)ë¡œ ë°”ê¿€ ë•Œ:
     - ê° row/productì˜ `image` í•„ë“œê°€ **ë§ˆìŠ¤í„°ì—ì„œ ì˜¨ `ì´ë¯¸ì§€URL`** ì´ ë˜ë„ë¡ ë§¤í•‘.
   - `MobileListRow` / `TodaysProductCard` ì˜ ë Œë”ë§ ì½”ë“œëŠ” ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©:
     - `getProxyImageUrl` + `onError` ì¬ì‹œë„/í´ë°± ë¡œì§ì„ ë³€ê²½í•˜ì§€ ì•Šê³  ìœ ì§€.

3. **í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**
   - í†µì‹ ì‚¬ë³„ë¡œ ëŒ€í‘œ ëª¨ë¸ 2~3ê°œë¥¼ ê³¨ë¼:
     - ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ ë¦¬ìŠ¤íŠ¸ ì¬ì§„ì… â†’ `íœ´ëŒ€í°ëª©ë¡`/`ì˜¤ëŠ˜ì˜íœ´ëŒ€í°` ëª¨ë‘ì—ì„œ  
       ìƒˆ ì´ë¯¸ì§€ê°€ ì˜ ë³´ì´ëŠ”ì§€ í™•ì¸.
   - ë„¤íŠ¸ì›Œí¬ë¥¼ ëŠê±°ë‚˜ í”„ë¡ì‹œ APIë¥¼ ì„ì‹œë¡œ ì—ëŸ¬ ì‘ë‹µí•˜ê²Œ í•´:
     - í”„ë¡ì‹œ ì‹¤íŒ¨ â†’ ì›ë³¸ â†’ í”„ë¡ì‹œ ìˆœì„œë¡œ ì¬ì‹œë„ ë¡œì§ì´ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸.
   - ETL/ë§ˆìŠ¤í„° ë„ì… í›„:
     - `ì§ì˜ì _ë‹¨ë§ë§ˆìŠ¤í„°` ì˜ `ì´ë¯¸ì§€URL` ê°’ê³¼ `ì§ì˜ì _ëª¨ë¸ì´ë¯¸ì§€` ì˜ ê°’ì´  
       ì¼ì • ì‹œê°„ í›„ ê²°êµ­ ë™ì¼í•´ì§€ëŠ”ì§€(ë°°ì¹˜ or ë¶€ë¶„ ê°±ì‹  ì „ëµì— ë”°ë¼) ì ê²€.
